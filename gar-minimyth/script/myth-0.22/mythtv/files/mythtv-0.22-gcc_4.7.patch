diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythplugins/mythmusic/mythmusic/importmusic.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythplugins/mythmusic/mythmusic/importmusic.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythplugins/mythmusic/mythmusic/importmusic.cpp	2011-10-07 15:27:31.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythplugins/mythmusic/mythmusic/importmusic.cpp	2012-04-08 20:17:08.000000000 -0700
@@ -1,3 +1,5 @@
+#include <unistd.h>
+
 // qt
 #include <QDir>
 #include <QFontMetrics>
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythplugins/mythmusic/mythmusic/libvisualplugin.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythplugins/mythmusic/mythmusic/libvisualplugin.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythplugins/mythmusic/mythmusic/libvisualplugin.cpp	2011-10-07 15:27:31.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythplugins/mythmusic/mythmusic/libvisualplugin.cpp	2012-04-08 20:13:12.000000000 -0700
@@ -1,3 +1,4 @@
+#include <unistd.h>
 
 #include <iostream>
 using namespace std;
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmyth/mythcontext.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmyth/mythcontext.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmyth/mythcontext.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmyth/mythcontext.cpp	2012-04-08 19:52:17.000000000 -0700
@@ -1,3 +1,5 @@
+#include <unistd.h>
+
 #include <QPixmap>
 #include <QImage>
 #include <QUrl>
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythfreemheg/BaseClasses.h mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythfreemheg/BaseClasses.h
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythfreemheg/BaseClasses.h	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythfreemheg/BaseClasses.h	2012-04-08 19:45:00.000000000 -0700
@@ -89,7 +89,7 @@
             return MHSequence<BASE>::m_Values[--MHSequence<BASE>::m_VecSize];
         }
         // Push an element on the stack.
-        void Push(BASE b) { Append(b); }
+        void Push(BASE b) { this->Append(b); }
         // Return the top of the stack.
         BASE Top() { 
             MHASSERT(MHSequence<BASE>::m_VecSize > 0);
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/audioinputoss.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/audioinputoss.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/audioinputoss.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/audioinputoss.cpp	2012-04-08 19:59:03.000000000 -0700
@@ -20,6 +20,8 @@
  * 02110-1301, USA.
  */
 
+#include <unistd.h>
+
 #include "mythconfig.h"
 #if HAVE_SYS_SOUNDCARD_H
     #include <sys/soundcard.h>
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/firewiredevice.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/firewiredevice.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/firewiredevice.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/firewiredevice.cpp	2012-04-08 20:02:48.000000000 -0700
@@ -4,6 +4,8 @@
  *  Distributed as part of MythTV under GPL v2 and later.
  */
 
+#include <unistd.h>
+
 // C++ headers
 #include <algorithm>
 
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/firewirerecorder.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/firewirerecorder.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/firewirerecorder.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/firewirerecorder.cpp	2012-04-08 20:01:19.000000000 -0700
@@ -4,6 +4,8 @@
  *  Distributed as part of MythTV under GPL v2 and later.
  */
 
+#include <unistd.h>
+
 // MythTV includes
 #include "firewirerecorder.h"
 #include "firewirechannel.h"
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/util-vdpau.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/util-vdpau.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythtv/util-vdpau.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythtv/util-vdpau.cpp	2012-04-08 19:56:29.000000000 -0700
@@ -1,3 +1,5 @@
+#include <unistd.h>
+
 #include <cstdio>
 #include <cstdlib>
 
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythui/mythmainwindow.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythui/mythmainwindow.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/libs/libmythui/mythmainwindow.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/libs/libmythui/mythmainwindow.cpp	2012-04-08 19:45:15.000000000 -0700
@@ -1,3 +1,4 @@
+#include <unistd.h>
 
 #include "mythmainwindow.h"
 #include "mythmainwindow_internal.h"
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/programs/mythtranscode/transcode.cpp mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/programs/mythtranscode/transcode.cpp
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/programs/mythtranscode/transcode.cpp	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/programs/mythtranscode/transcode.cpp	2012-04-08 20:08:13.000000000 -0700
@@ -1,3 +1,5 @@
+#include <unistd.h>
+
 #include <fcntl.h>
 #include <math.h>
 
@@ -748,7 +750,7 @@
         // framecontrol is true if we want to enforce fifo sync.
         if (framecontrol)
             VERBOSE(VB_GENERAL, "Enforcing sync on fifos");
-        fifow = new FIFOWriter::FIFOWriter(2, framecontrol);
+        fifow = new FIFOWriter(2, framecontrol);
 
         if (!fifow->FIFOInit(0, QString("video"), vidfifo, vidSize, 50) ||
             !fifow->FIFOInit(1, QString("audio"), audfifo, audio_size, 25))
diff -Naur mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/programs/mythtranscode/transcode.h mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/programs/mythtranscode/transcode.h
--- mythtv-0.22-20100711-3c6ce60-697a6ac-old/mythtv/programs/mythtranscode/transcode.h	2011-10-07 15:27:32.000000000 -0700
+++ mythtv-0.22-20100711-3c6ce60-697a6ac-new/mythtv/programs/mythtranscode/transcode.h	2012-04-08 19:45:00.000000000 -0700
@@ -38,7 +38,7 @@
     PlayerContext          *player_ctx;
     RingBuffer             *inRingBuffer;
     RingBuffer             *outRingBuffer;
-    FIFOWriter::FIFOWriter *fifow;
+    FIFOWriter             *fifow;
     KFATable               *kfa_table;
     bool                    showprogress;
     QString                 recorderOptions;

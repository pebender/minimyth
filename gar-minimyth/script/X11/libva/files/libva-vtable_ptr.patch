diff -Naur libva-bc7c905-old/i965_drv_video/i965_drv_video.c libva-bc7c905-new/i965_drv_video/i965_drv_video.c
--- libva-bc7c905-old/i965_drv_video/i965_drv_video.c	2011-02-09 15:36:42.000000000 -0800
+++ libva-bc7c905-new/i965_drv_video/i965_drv_video.c	2011-02-09 16:01:44.000000000 -0800
@@ -1852,48 +1852,48 @@
     ctx->max_display_attributes = I965_MAX_DISPLAY_ATTRIBUTES;
     ctx->str_vendor = I965_STR_VENDOR;
 
-    ctx->vtable.vaTerminate = i965_Terminate;
-    ctx->vtable.vaQueryConfigEntrypoints = i965_QueryConfigEntrypoints;
-    ctx->vtable.vaQueryConfigProfiles = i965_QueryConfigProfiles;
-    ctx->vtable.vaQueryConfigEntrypoints = i965_QueryConfigEntrypoints;
-    ctx->vtable.vaQueryConfigAttributes = i965_QueryConfigAttributes;
-    ctx->vtable.vaCreateConfig = i965_CreateConfig;
-    ctx->vtable.vaDestroyConfig = i965_DestroyConfig;
-    ctx->vtable.vaGetConfigAttributes = i965_GetConfigAttributes;
-    ctx->vtable.vaCreateSurfaces = i965_CreateSurfaces;
-    ctx->vtable.vaDestroySurfaces = i965_DestroySurfaces;
-    ctx->vtable.vaCreateContext = i965_CreateContext;
-    ctx->vtable.vaDestroyContext = i965_DestroyContext;
-    ctx->vtable.vaCreateBuffer = i965_CreateBuffer;
-    ctx->vtable.vaBufferSetNumElements = i965_BufferSetNumElements;
-    ctx->vtable.vaMapBuffer = i965_MapBuffer;
-    ctx->vtable.vaUnmapBuffer = i965_UnmapBuffer;
-    ctx->vtable.vaDestroyBuffer = i965_DestroyBuffer;
-    ctx->vtable.vaBeginPicture = i965_BeginPicture;
-    ctx->vtable.vaRenderPicture = i965_RenderPicture;
-    ctx->vtable.vaEndPicture = i965_EndPicture;
-    ctx->vtable.vaSyncSurface = i965_SyncSurface;
-    ctx->vtable.vaQuerySurfaceStatus = i965_QuerySurfaceStatus;
-    ctx->vtable.vaPutSurface = i965_PutSurface;
-    ctx->vtable.vaQueryImageFormats = i965_QueryImageFormats;
-    ctx->vtable.vaCreateImage = i965_CreateImage;
-    ctx->vtable.vaDeriveImage = i965_DeriveImage;
-    ctx->vtable.vaDestroyImage = i965_DestroyImage;
-    ctx->vtable.vaSetImagePalette = i965_SetImagePalette;
-    ctx->vtable.vaGetImage = i965_GetImage;
-    ctx->vtable.vaPutImage = i965_PutImage;
-    ctx->vtable.vaQuerySubpictureFormats = i965_QuerySubpictureFormats;
-    ctx->vtable.vaCreateSubpicture = i965_CreateSubpicture;
-    ctx->vtable.vaDestroySubpicture = i965_DestroySubpicture;
-    ctx->vtable.vaSetSubpictureImage = i965_SetSubpictureImage;
-    ctx->vtable.vaSetSubpictureChromakey = i965_SetSubpictureChromakey;
-    ctx->vtable.vaSetSubpictureGlobalAlpha = i965_SetSubpictureGlobalAlpha;
-    ctx->vtable.vaAssociateSubpicture = i965_AssociateSubpicture;
-    ctx->vtable.vaDeassociateSubpicture = i965_DeassociateSubpicture;
-    ctx->vtable.vaQueryDisplayAttributes = i965_QueryDisplayAttributes;
-    ctx->vtable.vaGetDisplayAttributes = i965_GetDisplayAttributes;
-    ctx->vtable.vaSetDisplayAttributes = i965_SetDisplayAttributes;
-//    ctx->vtable.vaDbgCopySurfaceToBuffer = i965_DbgCopySurfaceToBuffer;
+    ctx->vtable->vaTerminate = i965_Terminate;
+    ctx->vtable->vaQueryConfigEntrypoints = i965_QueryConfigEntrypoints;
+    ctx->vtable->vaQueryConfigProfiles = i965_QueryConfigProfiles;
+    ctx->vtable->vaQueryConfigEntrypoints = i965_QueryConfigEntrypoints;
+    ctx->vtable->vaQueryConfigAttributes = i965_QueryConfigAttributes;
+    ctx->vtable->vaCreateConfig = i965_CreateConfig;
+    ctx->vtable->vaDestroyConfig = i965_DestroyConfig;
+    ctx->vtable->vaGetConfigAttributes = i965_GetConfigAttributes;
+    ctx->vtable->vaCreateSurfaces = i965_CreateSurfaces;
+    ctx->vtable->vaDestroySurfaces = i965_DestroySurfaces;
+    ctx->vtable->vaCreateContext = i965_CreateContext;
+    ctx->vtable->vaDestroyContext = i965_DestroyContext;
+    ctx->vtable->vaCreateBuffer = i965_CreateBuffer;
+    ctx->vtable->vaBufferSetNumElements = i965_BufferSetNumElements;
+    ctx->vtable->vaMapBuffer = i965_MapBuffer;
+    ctx->vtable->vaUnmapBuffer = i965_UnmapBuffer;
+    ctx->vtable->vaDestroyBuffer = i965_DestroyBuffer;
+    ctx->vtable->vaBeginPicture = i965_BeginPicture;
+    ctx->vtable->vaRenderPicture = i965_RenderPicture;
+    ctx->vtable->vaEndPicture = i965_EndPicture;
+    ctx->vtable->vaSyncSurface = i965_SyncSurface;
+    ctx->vtable->vaQuerySurfaceStatus = i965_QuerySurfaceStatus;
+    ctx->vtable->vaPutSurface = i965_PutSurface;
+    ctx->vtable->vaQueryImageFormats = i965_QueryImageFormats;
+    ctx->vtable->vaCreateImage = i965_CreateImage;
+    ctx->vtable->vaDeriveImage = i965_DeriveImage;
+    ctx->vtable->vaDestroyImage = i965_DestroyImage;
+    ctx->vtable->vaSetImagePalette = i965_SetImagePalette;
+    ctx->vtable->vaGetImage = i965_GetImage;
+    ctx->vtable->vaPutImage = i965_PutImage;
+    ctx->vtable->vaQuerySubpictureFormats = i965_QuerySubpictureFormats;
+    ctx->vtable->vaCreateSubpicture = i965_CreateSubpicture;
+    ctx->vtable->vaDestroySubpicture = i965_DestroySubpicture;
+    ctx->vtable->vaSetSubpictureImage = i965_SetSubpictureImage;
+    ctx->vtable->vaSetSubpictureChromakey = i965_SetSubpictureChromakey;
+    ctx->vtable->vaSetSubpictureGlobalAlpha = i965_SetSubpictureGlobalAlpha;
+    ctx->vtable->vaAssociateSubpicture = i965_AssociateSubpicture;
+    ctx->vtable->vaDeassociateSubpicture = i965_DeassociateSubpicture;
+    ctx->vtable->vaQueryDisplayAttributes = i965_QueryDisplayAttributes;
+    ctx->vtable->vaGetDisplayAttributes = i965_GetDisplayAttributes;
+    ctx->vtable->vaSetDisplayAttributes = i965_SetDisplayAttributes;
+//    ctx->vtable->vaDbgCopySurfaceToBuffer = i965_DbgCopySurfaceToBuffer;
 
     i965 = (struct i965_driver_data *)calloc(1, sizeof(*i965));
     assert(i965);
diff -Naur libva-bc7c905-old/va/android/va_android.cpp libva-bc7c905-new/va/android/va_android.cpp
--- libva-bc7c905-old/va/android/va_android.cpp	2011-02-09 15:36:42.000000000 -0800
+++ libva-bc7c905-new/va/android/va_android.cpp	2011-02-09 16:02:21.000000000 -0800
@@ -328,7 +328,7 @@
              destx, desty, destw, desth,
              cliprects, number_cliprects, flags );
     
-    return ctx->vtable.vaPutSurface( ctx, surface, static_cast<void*>(&draw), srcx, srcy, srcw, srch, 
+    return ctx->vtable->vaPutSurface( ctx, surface, static_cast<void*>(&draw), srcx, srcy, srcw, srch, 
                                      destx, desty, destw, desth,
                                      cliprects, number_cliprects, flags );
 }

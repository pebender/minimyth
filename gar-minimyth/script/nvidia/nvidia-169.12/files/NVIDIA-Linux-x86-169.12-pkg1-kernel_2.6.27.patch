diff -Naur NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/nv.c NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/nv.c
--- NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/nv.c	2008-10-31 11:10:29.000000000 -0700
+++ NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/nv.c	2008-10-31 11:10:43.000000000 -0700
@@ -611,7 +611,7 @@
     nv_state_t *nv;
     nv_linux_state_t *nvl;
 
-    proc_nvidia = create_proc_entry("nvidia", d_flags, proc_root_driver);
+    proc_nvidia = create_proc_entry("driver/nvidia", d_flags, NULL);
     if (!proc_nvidia)
         goto failed;
 
@@ -1286,14 +1286,22 @@
             if (get_cpu() == cpu)
                 __nv_setup_pat_entries(NULL);
             else
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 27)
+                smp_call_function(__nv_setup_pat_entries, hcpu, 1);
+#else
                 smp_call_function(__nv_setup_pat_entries, hcpu, 1, 1);
+#endif
             put_cpu();
             break;
         case CPU_DOWN_PREPARE:
             if (get_cpu() == cpu)
                 __nv_restore_pat_entries(NULL);
             else
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 27)
+                smp_call_function(__nv_setup_pat_entries, hcpu, 1);
+#else
                 smp_call_function(__nv_restore_pat_entries, hcpu, 1, 1);
+#endif
             put_cpu();
             break;
     }
@@ -1813,6 +1821,7 @@
     }
 }
 
+#if !defined(NV_VM_INSERT_PAGE_PRESENT)
 struct page *nv_kern_vma_nopage(
     struct vm_area_struct *vma,
     unsigned long address,
@@ -1823,22 +1832,21 @@
 #endif
 )
 {
-#if !defined(NV_VM_INSERT_PAGE_PRESENT)
     struct page *page;
 
     page = pfn_to_page(vma->vm_pgoff);
     get_page(page);
 
     return page;
-#else
-    return NOPAGE_SIGBUS;
-#endif
 }
+#endif
 
 struct vm_operations_struct nv_vm_ops = {
     .open   = nv_kern_vma_open,
     .close  = nv_kern_vma_release,  /* "close" */
+#if !defined(NV_VM_INSERT_PAGE_PRESENT)
     .nopage = nv_kern_vma_nopage,
+#endif
 };
 
 static nv_file_private_t *
diff -Naur NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/nv-linux.h NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/nv-linux.h
--- NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/nv-linux.h	2008-10-31 11:10:29.000000000 -0700
+++ NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/nv-linux.h	2008-10-31 11:10:43.000000000 -0700
@@ -104,7 +104,9 @@
 #endif
 
 #include <linux/spinlock.h>
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 27)
 #include <asm/semaphore.h>
+#endif
 #include <linux/completion.h>
 #include <linux/highmem.h>
 
@@ -658,14 +660,22 @@
 #if defined(preempt_disable)
     preempt_disable();
 #endif
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 27)
+    ret = smp_call_function(func, info, 1);
+#else
     ret = smp_call_function(func, info, 1, 1);
+#endif
     func(info);
 #if defined(preempt_enable)
     preempt_enable();
 #endif
 #else
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 27)
+    ret = on_each_cpu(func, info, 1);
+#else
     ret = on_each_cpu(func, info, 1, 1);
 #endif
+#endif
     return ret;
 }
 
diff -Naur NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/os-interface.c NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/os-interface.c
--- NVIDIA-Linux-x86-169.12-pkg1-old/usr/src/nv/os-interface.c	2008-10-31 11:10:29.000000000 -0700
+++ NVIDIA-Linux-x86-169.12-pkg1-new/usr/src/nv/os-interface.c	2008-10-31 11:10:43.000000000 -0700
@@ -42,7 +42,11 @@
     preempt_disable();
 #endif
     os_block_on_smp_barrier = 1;
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 27)
+    ret = smp_call_function(ipi_handler, NULL, 0);
+#else
     ret = smp_call_function(ipi_handler, NULL, 1, 0);
+#endif
 #if defined(preempt_enable)
     preempt_enable();
 #endif
@@ -689,7 +693,9 @@
     U032 sig
 )
 {
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 26)
     return kill_proc(pid, sig, 1) ? RM_ERR_OPERATING_SYSTEM : RM_OK;
+#endif
 }
 
 /*******************************************************************************/

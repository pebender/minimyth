# Input devices
# If we can, then give the input device a predictable names using the mm_input script.
# Otherwise, give the input device whatever name the kernel gives it.
KERNEL=="mice",                                               NAME="input/%k"
KERNEL=="mouse*", PROGRAM="/lib/udev/mm_input", RESULT=="?*", NAME="input/mouse-$result"
KERNEL=="mouse*",                                             NAME="input/%k"
KERNEL=="event*", PROGRAM="/lib/udev/mm_input", RESULT=="?*", NAME="input/event-$result"
KERNEL=="event*",                                             NAME="input/%k"
KERNEL=="js*"   , PROGRAM="/lib/udev/mm_input", RESULT=="?*", NAME="input/js-$result"
KERNEL=="js*",                                                NAME="input/%k"
KERNEL=="ts*"   , PROGRAM="/lib/udev/mm_input", RESULT=="?*", NAME="input/ts-$result"
KERNEL=="ts*",                                                NAME="input/%k"
KERNEL=="uinput", PROGRAM="/lib/udev/mm_input", RESULT=="?*", NAME="input/uinput-$result"
KERNEL=="uinput,                                              NAME="input/%k"

# DRI devices always go into a subdirectory (as per the LSB spec)
KERNEL=="card*",                       NAME="dri/card%n"

# alsa devices
KERNEL=="controlC[0-9]*",              NAME="snd/%k"
KERNEL=="hw[CD0-9]*",                  NAME="snd/%k"
KERNEL=="pcm[CD0-9cp]*",               NAME="snd/%k"
KERNEL=="midiC[D0-9]*",                NAME="snd/%k"
KERNEL=="timer",                       NAME="snd/%k"
KERNEL=="seq",                         NAME="snd/%k"

# USB devices
KERNEL=="hiddev*",                     NAME="usb/%k"
KERNEL=="auer*",                       NAME="usb/%k"
KERNEL=="legousbtower*",               NAME="usb/%k"
KERNEL=="dabusb*",                     NAME="usb/%k"
SUBSYSTEMS=="usb", KERNEL=="lp[0-9]*", NAME="usb/%k"

# CAPI devices
KERNEL=="capi",                        NAME="capi20", SYMLINK+="isdn/capi20"
KERNEL=="capi*",                       NAME="capi/%n"

# Network devices
KERNEL=="tun",                         NAME="net/%k"

# raw devices
KERNEL=="raw[0-9]*",                   NAME="raw/%k"

# CPU microcode device
KERNEL=="microcode",                   NAME="cpu/%k"

# dvb devices
SUBSYSTEM=="dvb", PROGRAM="/bin/sh -c 'X=%k; X=$${X#dvb}; A=$${X%%%%.*}; D=$${X#*.}; echo dvb/adapter$$A/$$D'", NAME="%c"

# Non-default device permissions.
KERNEL=="rtc",          OWNER="root", GROUP="root" , MODE="0644"

KERNEL=="js*",          OWNER="root", GROUP="root" , MODE="0644"

SUBSYSTEM=="sound",     OWNER="root", GROUP="audio", MODE="0660"

SUBSYSTEM=="drm",       OWNER="root", GROUP="video", MODE="0660"
SUBSYSTEM=="graphics",  OWNER="root", GROUP="video", MODE="0660"
SUBSYSTEM=="dvb",       OWNER="root", GROUP="video", MODE="0660"
KERNEL=="nvidia[0-9]*", OWNER="root", GROUP="video", MODE="0660"
KERNEL=="nvidiactl",    OWNER="root", GROUP="video", MODE="0660"
KERNEL=="video[0-9]*",  OWNER="root", GROUP="video", MODE="0660"

KERNEL=="full",         OWNER="root", GROUP="root",  MODE="0666"
KERNEL=="null",         OWNER="root", GROUP="root",  MODE="0666"
KERNEL=="random",       OWNER="root", GROUP="root",  MODE="0666"
KERNEL=="urandom",      OWNER="root", GROUP="root",  MODE="0666"
KERNEL=="zero",         OWNER="root", GROUP="root",  MODE="0666"

# console devices
KERNEL=="tty",          OWNER="root", GROUP="root",  MODE="0666"
KERNEL=="console",      OWNER="root", GROUP="root",  MODE="0600"
KERNEL=="tty[0-9]*",    OWNER="root", GROUP="root",  MODE="0660"

# pty devices
KERNEL=="ptmx",         OWNER="root", GROUP="root",  MODE="0666"

diff -Naur mesa-18.2.8-old/meson.build mesa-18.2.8-new/meson.build
--- mesa-18.2.8-old/meson.build	2018-12-27 08:02:01.000000000 -0800
+++ mesa-18.2.8-new/meson.build	2019-12-29 19:30:05.599016383 -0800
@@ -449,10 +449,12 @@
   endif
 endif
 dep_xvmc = null_dep
+dep_xv = null_dep
 with_gallium_xvmc = false
 if _xvmc != 'false'
+  dep_xv = dependency('xv', version : '>= 1.0.6', required : _xvmc == 'true')
   dep_xvmc = dependency('xvmc', version : '>= 1.0.6', required : _xvmc == 'true')
-  with_gallium_xvmc = dep_xvmc.found()
+  with_gallium_xvmc = dep_xvmc.found() and dep_xv.found()
 endif
 
 xvmc_drivers_path = get_option('xvmc-libs-path')
diff -Naur mesa-18.2.8-old/src/gallium/state_trackers/xvmc/meson.build mesa-18.2.8-new/src/gallium/state_trackers/xvmc/meson.build
--- mesa-18.2.8-old/src/gallium/state_trackers/xvmc/meson.build	2018-12-27 08:02:02.000000000 -0800
+++ mesa-18.2.8-new/src/gallium/state_trackers/xvmc/meson.build	2019-12-29 19:39:17.805009464 -0800
@@ -23,7 +23,7 @@
   files('attributes.c', 'block.c', 'context.c', 'surface.c', 'subpicture.c'),
   c_args : [c_vis_args],
   include_directories : [inc_common],
-  dependencies : [dep_xvmc, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3],
+  dependencies : [dep_xvmc, dep_xv, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3],
 )
 
 # These tests will not work without a working xvmc configuration. 
@@ -36,7 +36,7 @@
       _name,
       files('tests/test_@0@.c'.format(x), 'tests/testlib.c'),
       dependencies : [
-        dep_real_xvmc, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3, dep_xvmcw,
+        dep_real_xvmc, dep_xv, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3, dep_xvmcw,
       ],
       install: true,
     )
@@ -46,7 +46,7 @@
     'xvmc_bench',
     files('tests/xvmc_bench.c', 'tests/testlib.c'),
     dependencies : [
-      dep_real_xvmc, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3, dep_xvmcw,
+      dep_real_xvmc, dep_xv, dep_x11_xcb, dep_xcb, dep_xcb_dri2, dep_xcb_dri3, dep_xvmcw,
     ],
     install: true,
   )

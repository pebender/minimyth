diff -Naur xorg-server-1.4.1-old/hw/xfree86/xaa/Makefile.am xorg-server-1.4.1-new/hw/xfree86/xaa/Makefile.am
--- xorg-server-1.4.1-old/hw/xfree86/xaa/Makefile.am	2008-06-10 08:35:48.000000000 -0700
+++ xorg-server-1.4.1-new/hw/xfree86/xaa/Makefile.am	2008-06-10 09:06:55.000000000 -0700
@@ -9,7 +9,9 @@
 POLYSEG = s-xaaLine.c s-xaaDashLine.c
 
 libxaa_la_LDFLAGS = -avoid-version
+if COMPOSITE
 libxaa_la_LIBADD = $(top_builddir)/miext/cw/libcw.la
+endif
 
 module_LTLIBRARIES = libxaa.la
 libxaa_la_SOURCES = xaaInit.c xaaGC.c xaaInitAccel.c xaaFallback.c \

diff -Naur xorg-server-ff4006bd5a71d39cc5655679447c5c47a99a2751-old/hw/xfree86/xaa/Makefile.am xorg-server-ff4006bd5a71d39cc5655679447c5c47a99a2751-new/hw/xfree86/xaa/Makefile.am
--- xorg-server-ff4006bd5a71d39cc5655679447c5c47a99a2751-old/hw/xfree86/xaa/Makefile.am	2008-04-30 09:40:04.000000000 -0700
+++ xorg-server-ff4006bd5a71d39cc5655679447c5c47a99a2751-new/hw/xfree86/xaa/Makefile.am	2008-04-30 09:41:30.000000000 -0700
@@ -9,7 +9,9 @@
 POLYSEG = s-xaaLine.c s-xaaDashLine.c
 
 libxaa_la_LDFLAGS = -avoid-version
+if COMPOSITE
 libxaa_la_LIBADD = $(top_builddir)/miext/cw/libcw.la
+endif
 
 module_LTLIBRARIES = libxaa.la
 libxaa_la_SOURCES = xaaInit.c xaaGC.c xaaInitAccel.c xaaFallback.c \

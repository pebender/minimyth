diff -Naur mythplugins-0.19-old/mythcontrols/mythcontrols/actionset.cpp mythplugins-0.19-new/mythcontrols/mythcontrols/actionset.cpp
--- mythplugins-0.19-old/mythcontrols/mythcontrols/actionset.cpp	2005-08-17 11:51:44.000000000 -0700
+++ mythplugins-0.19-new/mythcontrols/mythcontrols/actionset.cpp	2006-04-21 17:56:04.000000000 -0700
@@ -139,13 +139,19 @@
 /* method description in header */
 QStringList * ActionSet::actionStrings(const QString &context_name) const
 {
-    QStringList *action_strings = new QStringList();
-    QDictIterator<Action> it(*(_contexts[context_name]));
+    Context *c = _contexts[context_name];
 
-    for (; it.current(); ++it)
-        action_strings->append(it.currentKey());
+    if (c == NULL) return NULL;
+    else
+    {
+        QStringList *action_strings = new QStringList();
+        QDictIterator<Action> it(*(_contexts[context_name]));
+
+        for (; it.current(); ++it)
+            action_strings->append(it.currentKey());
     
-    return action_strings;
+        return action_strings;
+    }
 }
 
 
diff -Naur mythplugins-0.19-old/mythcontrols/mythcontrols/keybindings.h mythplugins-0.19-new/mythcontrols/mythcontrols/keybindings.h
--- mythplugins-0.19-old/mythcontrols/mythcontrols/keybindings.h	2005-12-16 07:45:25.000000000 -0800
+++ mythplugins-0.19-new/mythcontrols/mythcontrols/keybindings.h	2006-04-21 17:56:04.000000000 -0700
@@ -65,6 +65,8 @@
     /**
      * @brief Get a list of the context names.
      * @return A list of the context names.
+     * @note The returned list is a copy and can be modified without
+     * side-effects.
      */
     inline QStringList * getContexts() const
     {
diff -Naur mythplugins-0.19-old/mythcontrols/mythcontrols/mythcontrols.cpp mythplugins-0.19-new/mythcontrols/mythcontrols/mythcontrols.cpp
--- mythplugins-0.19-old/mythcontrols/mythcontrols/mythcontrols.cpp	2006-01-15 22:45:15.000000000 -0800
+++ mythplugins-0.19-new/mythcontrols/mythcontrols/mythcontrols.cpp	2006-04-21 17:56:04.000000000 -0700
@@ -46,22 +46,6 @@
 #include "keygrabber.h"
 
 
-static QMap<int,QString> FindContexts(const QString &context)
-{
-    QMap<int,QString> retval;
-    retval.clear();
-    if (context != JUMP_CONTEXT) retval[-1] = JUMP_CONTEXT;
-    retval[0] = context;
-    if (context != JUMP_CONTEXT && context != GLOBAL_CONTEXT)
-    {
-        if (context == "TV Editting")
-            retval[1] = "TV Playback";
-        retval[2] = GLOBAL_CONTEXT;
-        if (context != "qt")
-            retval[3] = "qt";
-    }
-    return retval;
-}
 
 static const QString KeyToDisplay(const QString key)
 {
@@ -838,7 +822,11 @@
     refreshKeyInformation();
 }
 
-void MythControls::addBindings(QDict<binding_t> &bindings, const QString &context, const QString &contextParent, int bindlevel)
+
+
+void MythControls::addBindings(QDict<binding_t> &bindings,
+                               const QString &context,
+                               const QString &contextParent, int bindlevel)
 {
     QStringList *actions = key_bindings->getActions(context);
 
@@ -872,18 +860,13 @@
 
 BindingList *MythControls::getKeyBindings(const QString &context)
 {
+    QStringList keys;
     QDict<binding_t> bindings;
     bindings.clear();
 
-    QMap<int,QString> contextList = FindContexts(context);
-    for (QMap<int,QString>::iterator it = contextList.begin(); it != contextList.end(); ++it)
-    {
-        int level = it.key();
-        QString curcontext = it.data();
-        addBindings(bindings, curcontext, context, level);
-    }
+    for (size_t i = 0; i < contexts.size(); i++)
+        addBindings(bindings, contexts[i], context, i);
 
-    QStringList keys;
 
     for (QDictIterator<binding_t> it(bindings); it.current(); ++it)
     {
diff -Naur mythplugins-0.19-old/mythdvd/mtd/jobthread.cpp mythplugins-0.19-new/mythdvd/mtd/jobthread.cpp
--- mythplugins-0.19-old/mythdvd/mtd/jobthread.cpp	2005-12-12 18:21:44.000000000 -0800
+++ mythplugins-0.19-new/mythdvd/mtd/jobthread.cpp	2006-04-21 17:55:58.000000000 -0700
@@ -11,6 +11,7 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <fcntl.h>
+#include <unistd.h>
 
 #include <iostream>
 using namespace std;
diff -Naur mythplugins-0.19-old/mythdvd/mtd/logging.cpp mythplugins-0.19-new/mythdvd/mtd/logging.cpp
--- mythplugins-0.19-old/mythdvd/mtd/logging.cpp	2003-07-28 08:34:51.000000000 -0700
+++ mythplugins-0.19-new/mythdvd/mtd/logging.cpp	2006-04-21 17:55:58.000000000 -0700
@@ -9,6 +9,7 @@
 */
 #include "logging.h"
 
+#include <unistd.h>
 #include <qdatetime.h>
 
 #include <mythtv/mythcontext.h>
diff -Naur mythplugins-0.19-old/mythdvd/mtd/mtd.cpp mythplugins-0.19-new/mythdvd/mtd/mtd.cpp
--- mythplugins-0.19-old/mythdvd/mtd/mtd.cpp	2005-08-18 18:59:51.000000000 -0700
+++ mythplugins-0.19-new/mythdvd/mtd/mtd.cpp	2006-04-21 17:55:58.000000000 -0700
@@ -8,6 +8,7 @@
 
 */
 
+#include <unistd.h>
 #include <qstringlist.h>
 #include <qregexp.h>
 #include <qdir.h>
diff -Naur mythplugins-0.19-old/mythgame/mythgame/gamehandler.h mythplugins-0.19-new/mythgame/mythgame/gamehandler.h
--- mythplugins-0.19-old/mythgame/mythgame/gamehandler.h	2005-11-09 19:54:23.000000000 -0800
+++ mythplugins-0.19-new/mythgame/mythgame/gamehandler.h	2006-04-21 17:56:13.000000000 -0700
@@ -106,7 +106,7 @@
 
   protected:
     static GameHandler* GetHandler(RomInfo *rominfo);
-    static GameHandler* GameHandler::GetHandlerByName(QString systemname);
+    static GameHandler* GetHandlerByName(QString systemname);
 
     bool rebuild;
     int spandisks;
diff -Naur mythplugins-0.19-old/mythmusic/mythmusic/flacdecoder.cpp mythplugins-0.19-new/mythmusic/mythmusic/flacdecoder.cpp
--- mythplugins-0.19-old/mythmusic/mythmusic/flacdecoder.cpp	2005-12-07 23:05:38.000000000 -0800
+++ mythplugins-0.19-new/mythmusic/mythmusic/flacdecoder.cpp	2006-04-21 17:56:00.000000000 -0700
@@ -12,6 +12,7 @@
 #include "metadata.h"
 #include "metaioflacvorbiscomment.h"
 
+#include <mythtv/mythconfig.h>
 #include <mythtv/mythcontext.h>
 
 #include <qtimer.h>
@@ -102,7 +103,11 @@
             for (channel = 0; channel < chan; channel++)
             {
                sample = (FLAC__int8)buffer[channel][cursamp];
+#ifdef WORDS_BIGENDIAN
+               *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+#else
                *(output_buf + output_at++) = ((sample >> 0) & 0xff);
+#endif
                output_bytes += 1;
             }
         }   
@@ -114,8 +119,13 @@
             for (channel = 0; channel < chan; channel++)
             { 
                sample = (FLAC__int16)buffer[channel][cursamp];             
+#ifdef WORDS_BIGENDIAN
+               *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+               *(output_buf + output_at++) = ((sample >> 0) & 0xff);
+#else
                *(output_buf + output_at++) = ((sample >> 0) & 0xff);
                *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+#endif
                output_bytes += 2;
             }
         }
diff -Naur mythplugins-0.19-old/mythmusic/mythmusic/maddecoder.cpp mythplugins-0.19-new/mythmusic/mythmusic/maddecoder.cpp
--- mythplugins-0.19-old/mythmusic/mythmusic/maddecoder.cpp	2005-12-07 23:05:38.000000000 -0800
+++ mythplugins-0.19-new/mythmusic/mythmusic/maddecoder.cpp	2006-04-21 17:56:00.000000000 -0700
@@ -16,6 +16,7 @@
 #include <mythtv/audiooutput.h>
 #include "metaioid3v2.h"
 
+#include <mythtv/mythconfig.h>
 #include <mythtv/mythcontext.h>
 
 #define XING_MAGIC     (('X' << 24) | ('i' << 16) | ('n' << 8) | 'g')
@@ -407,7 +408,7 @@
         flush(TRUE);
 
         if (output()) {
-	    output()->Drain();
+            output()->Drain();
         }
 
         done = TRUE;
@@ -488,15 +489,25 @@
             flush();
         }
         sample = fix_sample(16, *left++);
+#ifdef WORDS_BIGENDIAN
+        *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+        *(output_buf + output_at++) = ((sample >> 0) & 0xff);
+#else
         *(output_buf + output_at++) = ((sample >> 0) & 0xff);
         *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+#endif
         output_bytes += 2;
 
         if (channels == 2)
         {
             sample = fix_sample(16, *right++);
+#ifdef WORDS_BIGENDIAN
+            *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+            *(output_buf + output_at++) = ((sample >> 0) & 0xff);
+#else
             *(output_buf + output_at++) = ((sample >> 0) & 0xff);
             *(output_buf + output_at++) = ((sample >> 8) & 0xff);
+#endif
             output_bytes += 2;
         }
     }
diff -Naur mythplugins-0.19-old/mythmusic/mythmusic/vorbisdecoder.cpp mythplugins-0.19-new/mythmusic/mythmusic/vorbisdecoder.cpp
--- mythplugins-0.19-old/mythmusic/mythmusic/vorbisdecoder.cpp	2005-12-07 23:05:38.000000000 -0800
+++ mythplugins-0.19-new/mythmusic/mythmusic/vorbisdecoder.cpp	2006-04-21 17:56:00.000000000 -0700
@@ -12,6 +12,7 @@
 #include "metadata.h"
 #include "metaiooggvorbiscomment.h"
 
+#include <mythtv/mythconfig.h>
 #include <mythtv/mythcontext.h>
 
 // static functions for OggVorbis
@@ -240,8 +241,13 @@
             seekTime = -1.0;
         }
 
+#ifdef WORDS_BIGENDIAN
+        len = ov_read(&oggfile, (char *) (output_buf + output_at), bks, 1, 2, 1,
+                      &section);
+#else
         len = ov_read(&oggfile, (char *) (output_buf + output_at), bks, 0, 2, 1,
                       &section);
+#endif
 
         if (len > 0) {
             bitrate = ov_bitrate_instant(&oggfile) / 1000;
diff -Naur mythplugins-0.19-old/mythnews/mythnews/news-sites.xml mythplugins-0.19-new/mythnews/mythnews/news-sites.xml
--- mythplugins-0.19-old/mythnews/mythnews/news-sites.xml	2006-01-13 06:21:06.000000000 -0800
+++ mythplugins-0.19-new/mythnews/mythnews/news-sites.xml	2006-04-21 17:56:13.000000000 -0700
@@ -119,7 +119,7 @@
 
     <item>
         <title>Slashdot</title>
-        <url>http://slashdot.org/slashdot.rss</url>
+        <url>http://rss.slashdot.org/Slashdot/slashdot</url>
         <ico>http://slashdot.org/favicon.ico</ico>
     </item>
 
diff -Naur mythplugins-0.19-old/mythphone/mythphone/sipfsm.h mythplugins-0.19-new/mythphone/mythphone/sipfsm.h
--- mythplugins-0.19-old/mythphone/mythphone/sipfsm.h	2005-04-05 15:15:30.000000000 -0700
+++ mythplugins-0.19-new/mythphone/mythphone/sipfsm.h	2006-04-21 17:56:07.000000000 -0700
@@ -618,7 +618,7 @@
     SipWatcher *CreateWatcherFsm(QString Url);
     SipIM *CreateIMFsm(QString Url="", QString callIdStr="");
     void StopWatchers();
-    void SipFsm::KickWatcher(SipUrl *Url);
+    void KickWatcher(SipUrl *Url);
     void SendIM(QString destUrl, QString CallId, QString imMsg);
     int numCalls();
     int getPrimaryCall() { return primaryCall; };
diff -Naur mythplugins-0.19-old/mythphone/mythphone/vxml.h mythplugins-0.19-new/mythphone/mythphone/vxml.h
--- mythplugins-0.19-old/mythphone/mythphone/vxml.h	2005-02-08 01:34:05.000000000 -0800
+++ mythplugins-0.19-new/mythphone/mythphone/vxml.h	2006-04-21 17:56:07.000000000 -0700
@@ -10,7 +10,7 @@
 {
   public:
     vxmlVariable(QString N, QString V);             
-    vxmlVariable::vxmlVariable(QString N, short *wav, int S);
+    vxmlVariable(QString N, short *wav, int S);
     virtual ~vxmlVariable() {}; 
     bool isType(QString t) { return (t == Type); };
     QString getName() { return Name; };
diff -Naur mythplugins-0.19-old/mythvideo/mythvideo/videomanager.h mythplugins-0.19-new/mythvideo/mythvideo/videomanager.h
--- mythplugins-0.19-old/mythvideo/mythvideo/videomanager.h	2005-10-04 08:48:34.000000000 -0700
+++ mythplugins-0.19-new/mythvideo/mythvideo/videomanager.h	2006-04-21 17:56:06.000000000 -0700
@@ -30,7 +30,7 @@
   public:
     VideoManager(MythMainWindow *parent, const char *name = 0);
     ~VideoManager(void);
-    void VideoManager::processEvents() { qApp->processEvents(); }
+    void processEvents() { qApp->processEvents(); }
     
   public slots:
     void slotManualIMDB();
diff -Naur mythplugins-0.19-old/mythvideo/mythvideo/videoselected.h mythplugins-0.19-new/mythvideo/mythvideo/videoselected.h
--- mythplugins-0.19-old/mythvideo/mythvideo/videoselected.h	2005-07-12 11:21:05.000000000 -0700
+++ mythplugins-0.19-new/mythvideo/mythvideo/videoselected.h	2006-04-21 17:56:06.000000000 -0700
@@ -35,7 +35,7 @@
     VideoSelected(VideoList *lvideolist,
                  MythMainWindow *parent, const char *name = 0, int index = 0);
     ~VideoSelected();
-    void VideoSelected::processEvents() { qApp->processEvents(); }
+    void processEvents() { qApp->processEvents(); }
     
 
   protected slots:
diff -Naur mythplugins-0.19-old/mythweather/mythweather/weather.cpp mythplugins-0.19-new/mythweather/mythweather/weather.cpp
--- mythplugins-0.19-old/mythweather/mythweather/weather.cpp	2005-08-30 12:58:03.000000000 -0700
+++ mythplugins-0.19-new/mythweather/mythweather/weather.cpp	2006-04-21 17:56:03.000000000 -0700
@@ -2571,6 +2571,14 @@
          return false;
      }
 
+     int imageCount = 5;
+     QString imagesList = parseData(tempData, "imagenames = new Array( '", ";");
+     if (imagesList != "<NULL>")
+     {
+         QStringList imageURLs = QStringList::split(",", imagesList);
+         imageCount = imageURLs.size();
+     }
+
      QString fileprefix = MythContext::GetConfDir();
 
      QDir dir(fileprefix);
@@ -2587,13 +2595,13 @@
          cerr << "MythWeather: Map File Prefix: " << fileprefix << endl;
 
      // delete existing radar maps
-     for (int x = 1; x <= 6; x++)
+     for (int x = 1; x <= 10; x++)
          QFile::remove(QString(fileprefix + "/radar%1.jpg").arg(x));
 
      if (debug)
          cerr << "MythWeather: Copying Map Files from Server (" << imageLoc << ")...\n";
 
-     for (int x = 1; x <= 6; x++)
+     for (int x = 1; x <= imageCount; x++)
      {
          QString sFile = QString(fileprefix + "/radar%1.jpg").arg(x);
          sURL = QString("http://image.weather.com" + imageLoc + "%1L.jpg").arg(x);
diff -Naur mythplugins-0.19-old/mythweb/config/canned_searches.php mythplugins-0.19-new/mythweb/config/canned_searches.php
--- mythplugins-0.19-old/mythweb/config/canned_searches.php	2006-02-01 23:59:05.000000000 -0800
+++ mythplugins-0.19-new/mythweb/config/canned_searches.php	2006-04-21 17:55:55.000000000 -0700
@@ -4,7 +4,7 @@
  * Each of these searches will show up as an advanced search
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 02:59:05 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-01 23:59:05 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8837 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/config/conf.php mythplugins-0.19-new/mythweb/config/conf.php
--- mythplugins-0.19-old/mythweb/config/conf.php	2006-02-02 00:21:54.000000000 -0800
+++ mythplugins-0.19-new/mythweb/config/conf.php	2006-04-21 17:55:55.000000000 -0700
@@ -7,7 +7,7 @@
  * a php interface to change it (someday...)
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 03:21:54 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-02 00:21:54 -0800 (Thu, 02 Feb 2006) $
  * @version     $Revision: 8838 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/config/theme_default.php mythplugins-0.19-new/mythweb/config/theme_default.php
--- mythplugins-0.19-old/mythweb/config/theme_default.php	2006-02-02 00:21:54.000000000 -0800
+++ mythplugins-0.19-new/mythweb/config/theme_default.php	2006-04-21 17:55:55.000000000 -0700
@@ -3,7 +3,7 @@
  * Configuration options for the default MythWeb theme
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 03:21:54 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-02 00:21:54 -0800 (Thu, 02 Feb 2006) $
  * @version     $Revision: 8838 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/config/theme_wap.php mythplugins-0.19-new/mythweb/config/theme_wap.php
--- mythplugins-0.19-old/mythweb/config/theme_wap.php	2006-02-02 00:21:54.000000000 -0800
+++ mythplugins-0.19-new/mythweb/config/theme_wap.php	2006-04-21 17:55:55.000000000 -0700
@@ -3,7 +3,7 @@
  * Configuration options for the MythWeb WAP theme
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 03:21:54 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-02 00:21:54 -0800 (Thu, 02 Feb 2006) $
  * @version     $Revision: 8838 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/config/theme_wml.php mythplugins-0.19-new/mythweb/config/theme_wml.php
--- mythplugins-0.19-old/mythweb/config/theme_wml.php	2006-02-02 00:21:54.000000000 -0800
+++ mythplugins-0.19-new/mythweb/config/theme_wml.php	2006-04-21 17:55:55.000000000 -0700
@@ -3,7 +3,7 @@
  * Configuration options for the MythWeb WML theme
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 03:21:54 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-02 00:21:54 -0800 (Thu, 02 Feb 2006) $
  * @version     $Revision: 8838 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/.htaccess mythplugins-0.19-new/mythweb/.htaccess
--- mythplugins-0.19-old/mythweb/.htaccess	2006-01-16 15:32:30.000000000 -0800
+++ mythplugins-0.19-new/mythweb/.htaccess	2006-04-21 17:55:57.000000000 -0700
@@ -7,8 +7,8 @@
 # See http://www.mythtv.org/ for information about MythTV itself.
 #
 # @url       $URL$
-# @date      $Date: 2006-01-16 18:32:30 -0500 (Mon, 16 Jan 2006) $
-# @version   $Revision: 8627 $
+# @date      $Date: 2006-04-02 01:38:41 -0800 (Sun, 02 Apr 2006) $
+# @version   $Revision: 9607 $
 # @author    $Author: xris $
 #
 
@@ -22,6 +22,7 @@
 #    AuthName           "MythTV"
 #    AuthDigestFile     /var/www/htdigest
 #    Require            valid-user
+#    BrowserMatch       "MSIE"      AuthDigestEnableQueryStringHack=On
 
 # MythTV now uses the correct file suffix for mpeg files, so all .nuv files
 # should actually be NuppleVideo.  However, apache probably doesn't know what
@@ -66,8 +67,6 @@
 
         php_value memory_limit                  32M
 
-        php_value session.save_path             php_sessions
-
         php_value output_buffering              4096
         php_value register_globals              0
         php_value magic_quotes_gpc              0
diff -Naur mythplugins-0.19-old/mythweb/includes/channels.php mythplugins-0.19-new/mythweb/includes/channels.php
--- mythplugins-0.19-old/mythweb/includes/channels.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/channels.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * The Channel object, and a couple of related subroutines.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-09 22:15:17 -0800 (Thu, 09 Feb 2006) $
  * @version     $Revision: 8914 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/css.php mythplugins-0.19-new/mythweb/includes/css.php
--- mythplugins-0.19-old/mythweb/includes/css.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/css.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Various routines that deal with figuring out and/or displaying css.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/db.php mythplugins-0.19-new/mythweb/includes/db.php
--- mythplugins-0.19-old/mythweb/includes/db.php	2006-01-28 19:19:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/db.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * The Database class and associated statement libraries.
  *
  * @url       $URL: svn+ssh://xris@svn.siliconmechanics.com/var/svn/web/trunk/shared_code/includes/db.php $
- * @date      $Date: 2006-01-28 22:19:02 -0500 (Sat, 28 Jan 2006) $
+ * @date      $Date: 2006-01-28 19:19:02 -0800 (Sat, 28 Jan 2006) $
  * @version   $Revision: 8758 $
  * @author    $Author: xris $
  * @license   GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/db_update.php mythplugins-0.19-new/mythweb/includes/db_update.php
--- mythplugins-0.19-old/mythweb/includes/db_update.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/db_update.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Make sure the database is at the most recent version
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/errordisplay.php mythplugins-0.19-new/mythweb/includes/errordisplay.php
--- mythplugins-0.19-old/mythweb/includes/errordisplay.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/errordisplay.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * This file contains a number of error-display related routines.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/errors.php mythplugins-0.19-new/mythweb/includes/errors.php
--- mythplugins-0.19-old/mythweb/includes/errors.php	2006-02-01 20:03:59.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/errors.php	2006-04-21 17:55:57.000000000 -0700
@@ -5,7 +5,7 @@
  * User-defined error handler.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:03:59 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:03:59 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8829 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/init.php mythplugins-0.19-new/mythweb/includes/init.php
--- mythplugins-0.19-old/mythweb/includes/init.php	2006-02-01 21:36:08.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -7,8 +7,8 @@
  * shared files for the entire program.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 00:36:08 -0500 (Thu, 02 Feb 2006) $
- * @version     $Revision: 8832 $
+ * @date        $Date: 2006-02-24 00:04:16 -0800 (Fri, 24 Feb 2006) $
+ * @version     $Revision: 9134 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -16,28 +16,15 @@
  *
 /**/
 
-/**
- * $Path is an array of PATH_INFO passed into the script via mod_rewrite or some
- * other lesser means.  It contains most of the information required for
- * figuring out what functions the user wants to access.
- *
- * @global  array   $GLOBALS['Path']
- * @name    $Path
-/**/
-    global $Path;
-    $Path = explode('/', preg_replace('/^\/+/',   '',    // Remove leading slashes
-                         preg_replace('/[\s]+/', ' ',    // Convert extra whitespace
-                                                         // Grab the path info from various different places.
-                             array_key_exists('PATH_INFO', $_SERVER)
-                             && $_SERVER['PATH_INFO']
-                                ? $_SERVER['PATH_INFO']
-                                : (array_key_exists('PATH_INFO', $_ENV)
-                                   && $_ENV['PATH_INFO']
-                                    ? $_ENV['PATH_INFO']
-                                    : $_GET['PATH_INFO']
-                                  )
-                         ))
-                   );
+// mod_redirect can do some weird things when php is run in cgi mode
+    $keys = preg_grep('/^REDIRECT_/', array_keys($_SERVER));
+    if (!empty($keys)) {
+        foreach ($keys as $key) {
+            $key = substr($key, 9);
+            if (!array_key_exists($key, $_SERVER))
+                $_SERVER[$key] = $_SERVER["REDIRECT_$key"];
+        }
+    }
 
 // Clean the document root variable and make sure it doesn't have a trailing slash
     $_SERVER['DOCUMENT_ROOT'] = preg_replace('/\/+$/', '', $_SERVER['DOCUMENT_ROOT']);
@@ -94,6 +81,29 @@
         exit;
     }
 
+/**
+ * $Path is an array of PATH_INFO passed into the script via mod_rewrite or some
+ * other lesser means.  It contains most of the information required for
+ * figuring out what functions the user wants to access.
+ *
+ * @global  array   $GLOBALS['Path']
+ * @name    $Path
+/**/
+    global $Path;
+    $Path = explode('/', preg_replace('/^\/+/',   '',    // Remove leading slashes
+                         preg_replace('/[\s]+/', ' ',    // Convert extra whitespace
+                                                         // Grab the path info from various different places.
+                             array_key_exists('PATH_INFO', $_SERVER)
+                             && $_SERVER['PATH_INFO']
+                                ? $_SERVER['PATH_INFO']
+                                : (array_key_exists('PATH_INFO', $_ENV)
+                                   && $_ENV['PATH_INFO']
+                                    ? $_ENV['PATH_INFO']
+                                    : $_GET['PATH_INFO']
+                                  )
+                         ))
+                   );
+
 // Load the database connection routines
     require_once 'includes/db.php';
 
diff -Naur mythplugins-0.19-old/mythweb/includes/mobile.php mythplugins-0.19-new/mythweb/includes/mobile.php
--- mythplugins-0.19-old/mythweb/includes/mobile.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/mobile.php	2006-04-21 17:55:57.000000000 -0700
@@ -24,8 +24,8 @@
  * code is intented to be easily re-usable in different applications.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
- * @version     $Revision: 8830 $
+ * @date        $Date: 2006-02-23 18:15:27 -0800 (Thu, 23 Feb 2006) $
+ * @version     $Revision: 9122 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -74,58 +74,56 @@
      * If you don't know the screensize of some mobile terminal then use
      * an empty array or approximate dimensions.
      */
-    $mobiles = array(/* Phones using the Series 60 platform, e.g. Nokia 3650 and 6600. */
-             'Series 60' => array('width' => 176, 'height' => 208),
-             'Series60' => array('width' => 176, 'height' => 208),
-             'C500' => array('width'=>176, 'height'=> 220), // SPV C500
-
-             /* Phones using the Series 90 platform, e.g. Nokia 7710. */
-             'Series 90' => array('width' => 640, 'height' => 320),
-             'Series90' => array('width' => 640, 'height' => 320),
-
-	     /* The following strings are added for the Palm browser WebPro
-              * WebPro sometimes supplies the screen dimensions, but sometimes not
-	      * but we try to detect the best as possible
-              */
-	     '320x480' => array('width' => 320, 'height' => 480), // For Palm Tungsten T
-	     '480x320' => array('width' => 480, 'height' => 320), // For Palm Tungsten T
-	     '320x320' => array('width' => 320, 'height' => 320), // For all Palm Tungsten models
-	     '320x480x16' => array('width' => 320, 'height' => 480), // For Palm Tungsten T
-	     '480x320x16' => array('width' => 480, 'height' => 320), // For Palm Tungsten T
-	     '320x320x16' => array('width' => 320, 'height' => 320),
-	     'WebPro' => array('width' => 320, 'height' => 320), // For all Palm Tungsten models
-
-             /* A generic mobile phone using Symbian OS. All Symbian phones don't
-              * necessarily have the same screen size so if you want to include
-              * some specific Symbian phones then place them above this line. */
-             'Symbian' => array('width' => 176, 'height' => 208),
-
-             'Nokia' => array(), // Nokia phones and emulators
-             'Eric' => array(), // Ericsson WAP phones and emulators
-             'WapI' => array(), // Ericsson WapIDE 2.0
-             'MC21' => array(), // Ericsson MC218
-             'AUR ' => array(), // Ericsson R320
-             'R380' => array(), // Ericsson R380
-             'UP.B' => array(), // UP.Browser
-             'WinW' => array(), // WinWAP browser
-             'UPG1' => array(), // UP.SDK 4.0
-             'upsi' => array(), // another kind of UP.Browser ??
-             'QWAP' => array(), // unknown QWAPPER browser
-             'Jigs' => array(), // unknown JigSaw browser
-             'Java' => array(), // unknown Java based browser
-             'Alca' => array(), // unknown Alcatel-BE3 browser (UP based?)
-             'MITS' => array(), // unknown Mitsubishi browser
-             'MOT-' => array(), // unknown browser (UP based?)
-             'My S' => array(), // unknown Ericsson devkit browser ?
-             'WAPJ' => array(), // Virtual WAPJAG www.wapjag.de
-             'fetc' => array(), // fetchpage.cgi Perl script from www.wapcab.de
-             'ALAV' => array(), // yet another unknown UP based browser ?
-             'Wapa' => array(), // another unknown browser (Web based "Wapalyzer"?)
-             'LGE-' => array(), // LG phones
-
-             /* For debugging: you can try out the mobile mode without a mobile phone.
-              * Replace 'Opera' with your browser. Comment out for release version. */
-             //'Opera' => array('width' => 176, 'height' => 208)
+    $mobiles = array(
+                /* Phones using the Series 60 platform, e.g. Nokia 3650 and 6600. */
+                     'Series 60' => array('width' => 176, 'height' => 208),
+                     'Series60'  => array('width' => 176, 'height' => 208),
+                     'C500'      => array('width'=>176, 'height'=> 220), // SPV C500
+                /* Phones using the Series 90 platform, e.g. Nokia 7710. */
+                     'Series 90' => array('width' => 640, 'height' => 320),
+                     'Series90' => array('width' => 640, 'height' => 320),
+                /* The following strings are added for the Palm browser WebPro
+                 * WebPro sometimes supplies the screen dimensions, but sometimes not
+                 * but we try to detect the best as possible */
+                     '240x320'    => array('width' => 240, 'height' => 320), // PocketPC IE
+                     '320x320'    => array('width' => 320, 'height' => 320), // For all Palm Tungsten models
+                     '320x480'    => array('width' => 320, 'height' => 480), // For Palm Tungsten T
+                     '480x320'    => array('width' => 480, 'height' => 320), // For Palm Tungsten T
+                     '320x480x16' => array('width' => 320, 'height' => 480), // For Palm Tungsten T
+                     '480x320x16' => array('width' => 480, 'height' => 320), // For Palm Tungsten T
+                     '320x320x16' => array('width' => 320, 'height' => 320),
+                     'WebPro'     => array('width' => 320, 'height' => 320), // For all Palm Tungsten models
+                 /* A generic mobile phone using Symbian OS. All Symbian phones don't
+                  * necessarily have the same screen size so if you want to include
+                  * some specific Symbian phones then place them above this line. */
+                     'Symbian' => array('width' => 176, 'height' => 208),
+
+                     'Nokia' => array(), // Nokia phones and emulators
+                     'Eric' => array(), // Ericsson WAP phones and emulators
+                     'WapI' => array(), // Ericsson WapIDE 2.0
+                     'MC21' => array(), // Ericsson MC218
+                     'AUR ' => array(), // Ericsson R320
+                     'R380' => array(), // Ericsson R380
+                     'UP.B' => array(), // UP.Browser
+                     'WinW' => array(), // WinWAP browser
+                     'UPG1' => array(), // UP.SDK 4.0
+                     'upsi' => array(), // another kind of UP.Browser ??
+                     'QWAP' => array(), // unknown QWAPPER browser
+                     'Jigs' => array(), // unknown JigSaw browser
+                     'Java' => array(), // unknown Java based browser
+                     'Alca' => array(), // unknown Alcatel-BE3 browser (UP based?)
+                     'MITS' => array(), // unknown Mitsubishi browser
+                     'MOT-' => array(), // unknown browser (UP based?)
+                     'My S' => array(), // unknown Ericsson devkit browser ?
+                     'WAPJ' => array(), // Virtual WAPJAG www.wapjag.de
+                     'fetc' => array(), // fetchpage.cgi Perl script from www.wapcab.de
+                     'ALAV' => array(), // yet another unknown UP based browser ?
+                     'Wapa' => array(), // another unknown browser (Web based "Wapalyzer"?)
+                     'LGE-' => array(), // LG phones
+
+                 /* For debugging: you can try out the mobile mode without a mobile phone.
+                  * Replace 'Opera' with your browser. Comment out for release version. */
+                     //'Opera' => array('width' => 176, 'height' => 208)
              );
 
     /* Scan through $mobiles and try to find matching user agent. */
diff -Naur mythplugins-0.19-old/mythweb/includes/mouseovers.php mythplugins-0.19-new/mythweb/includes/mouseovers.php
--- mythplugins-0.19-old/mythweb/includes/mouseovers.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/mouseovers.php	2006-04-21 17:55:57.000000000 -0700
@@ -4,7 +4,7 @@
  * mouseover events.  It requires the mouseovers.js file.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/mythbackend.php mythplugins-0.19-new/mythweb/includes/mythbackend.php
--- mythplugins-0.19-old/mythweb/includes/mythbackend.php	2006-01-17 13:43:30.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/mythbackend.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * Routines that allow mythweb to communicate with mythbackend
  *
  * @url         $URL$
- * @date        $Date: 2006-01-17 16:43:30 -0500 (Tue, 17 Jan 2006) $
- * @version     $Revision: 8634 $
+ * @date        $Date: 2006-03-22 21:02:51 -0800 (Wed, 22 Mar 2006) $
+ * @version     $Revision: 9469 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -15,10 +15,6 @@
 // The character string used by the backend to separate records
     define('backend_sep', '[]:[]');
 
-// A couple of global variables to keep duplicate queries to a minimum
-    $Scheduled_Recordings = array();
-    $Recorded_Programs    = array();
-
 // MYTH_PROTO_VERSION is defined in libmyth in mythtv/libs/libmyth/mythcontext.h
 // and should be the current MythTV protocol version.
     define('MYTH_PROTO_VERSION', 26);
diff -Naur mythplugins-0.19-old/mythweb/includes/programs.php mythplugins-0.19-new/mythweb/includes/programs.php
--- mythplugins-0.19-old/mythweb/includes/programs.php	2006-02-09 23:09:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/programs.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * This contains the Program class
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 02:09:02 -0500 (Fri, 10 Feb 2006) $
- * @version     $Revision: 8915 $
+ * @date        $Date: 2006-04-10 21:29:41 -0700 (Mon, 10 Apr 2006) $
+ * @version     $Revision: 9667 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -81,7 +81,9 @@
 /**/
     function &load_all_program_data($start_time, $end_time, $chanid = false, $single_program = false, $extra_query = '') {
         global $Channels, $db;
-    // Make a local hash of channel chanid's with references to the actual channel data
+    // Make a local hash of channel chanid's with references to the actual
+    // channel data (Channels are not indexed by anything in particular, so
+    // that the user can sort by chanid or channum).
         $channel_hash = array();
     // An array (that later gets converted to a string) containing the id's of channels we want to load
         $these_channels = array();
@@ -104,7 +106,7 @@
             load_all_channels();
     // Scan through the channels array and actually assign those references
         foreach (array_keys($Channels) as $key) {
-            $channel_hash[$Channels[$key]->chanid] = &$Channels[$key];
+            $channel_hash[$Channels[$key]->chanid] =& $Channels[$key];
         // Reinitialize the programs array for this channel
             $Channels[$key]->programs = array();
         // Keep track of this channel id in case we're only grabbing info for certain channels - workound included to avoid blank chanid's
@@ -130,11 +132,13 @@
                        LEFT JOIN programrating USING (chanid, starttime)
                        LEFT JOIN oldrecorded
                                  ON oldrecorded.recstatus IN (-3, 11)
-                                    AND IF(oldrecorded.programid OR oldrecorded.seriesid,
+                                    AND IF(oldrecorded.programid AND oldrecorded.seriesid,
                                            oldrecorded.programid = program.programid
                                              AND oldrecorded.seriesid = program.seriesid,
-                                           oldrecorded.title = program.title
-                                             AND oldrecorded.subtitle = program.subtitle
+                                           oldrecorded.title AND oldrecorded.subtitle
+                                             AND oldrecorded.description
+                                             AND oldrecorded.title       = program.title
+                                             AND oldrecorded.subtitle    = program.subtitle
                                              AND oldrecorded.description = program.description
                                           )
                        LEFT JOIN channel ON program.chanid = channel.chanid
@@ -156,8 +160,12 @@
     // The extra query, if there is one
         if ($extra_query)
             $query .= ' AND '.$extra_query;
-    // Group, sort and query
+    // Group and sort
         $query .= ' GROUP BY program.chanid, program.starttime ORDER BY program.starttime';
+    // Limit
+        if ($single_program)
+            $query .= ' LIMIT 1';
+    // Query
         $sh = $db->query($query,
                          star_character, max_stars, max_stars);
     // No results
@@ -188,12 +196,8 @@
     // Cleanup
         $sh->finish();
     // If channel-specific information was requested, return an array of those programs, or just the first/only one
-        if ($chanid) {
-            if ($single_program)
-                return $channel_hash[$chanid]->programs[0];
-            else
-                return $channel_hash[$chanid]->programs;
-        }
+        if ($chanid && $single_program)
+            return $these_programs[0];
     // Just in case, return an array of all programs found
         return $these_programs;
     }
@@ -272,17 +276,17 @@
             $this->endtime     = $data[12];  # show end-time
         // Is this a previously-recorded program?  Calculate the filesize
             if (!empty($this->filename)) {
-                $this->filesize = ($fs_high + ($fs_low < 0)) * 4294967296 + $fs_low;
-            }
-        // Ah, a scheduled recording - let's load more information about it, to be parsed in below
-            elseif ($this->chanid) {
-                unset($this->filename);
-            // Kludge to avoid redefining the object, which doesn't work in php5
-                $tmp = @get_object_vars(load_one_program($this->starttime, $this->chanid));
-                if (is_array($tmp) && count($tmp) > 0) {
-                    foreach ($tmp as $key => $value) {
-                        $this->$key = $value;
-                    }
+                if (function_exists('gmp_add')) {
+                // GMP functions should work better with 64 bit numbers.
+                    $size = gmp_add($fs_low,
+                                     gmp_mul('4294967296',
+                                             gmp_add($fs_high, $fs_low < 0 ? '1' : '0'))
+                                   );
+                    $this->filesize = gmp_strval($size);
+                }
+                else {
+                // This is inaccurate, but it's the best we can get without GMP.
+                    $this->filesize = ($fs_high + ($fs_low < 0)) * 4294967296 + $fs_low;
                 }
             }
         // Load the remaining info we got from mythbackend
@@ -291,14 +295,14 @@
             $this->description     = $data[2];                  # episode description
             $this->category        = $data[3];
             #$chanid               = $data[4];   # Extracted a few lines earlier
-            #$channum              = $data[5];
-            #$callsign             = $data[6];
+            $this->channum         = $data[5];
+            $this->callsign        = $data[6];
             $this->channame        = $data[7];
             #$pathname             = $data[8];   # Extracted a few lines earlier
             #$fs_high              = $data[9];   # Extracted a few lines earlier
             #$fs_low               = $data[10];  # Extracted a few lines earlier
-            #$starttime            = $data[11];  # Extracted a few lines earlier
-            #$endtime              = $data[12];  # Extracted a few lines earlier
+            #$this->starttime      = $data[11];  # Extracted a few lines earlier
+            #$this->endtime        = $data[12];  # Extracted a few lines earlier
             $this->hostname        = $data[16];
             #$this->sourceid       = $data[17];
             $this->cardid          = $data[18];
@@ -320,9 +324,9 @@
             $this->programid       = $data[34];
             $this->lastmodified    = $data[35];
             $this->recpriority     = $data[36];
-            #$this->airdate        = $data[37];
-            #$this->hasairdate     = $data[38];
-            $this->timestretch     = $program_data[39];
+            $this->airdate         = date('Y-m-d', $data[37]);
+            $this->hasairdate      = $data[38];
+            $this->timestretch     = $data[39];
             $this->recpriority2    = $data[40];
         // Assign the program flags
             $this->has_commflag = ($progflags & 0x01) ? true : false;    // FL_COMMFLAG  = 0x01
@@ -363,8 +367,8 @@
             $this->title_pronounce         = $data['title_pronounce'];
             $this->recstatus               = $data['recstatus'];
 
-            if ($program_data['tsdefault']) {
-                $this->timestretch = $program_data['tsdefault'];
+            if ($data['tsdefault']) {
+                $this->timestretch = $data['tsdefault'];
             } else {
                 $this->timestretch = 1.0;
             }
@@ -387,12 +391,14 @@
         // Now we really should scan the $Channel array and add a link to this program's channel
             foreach (array_keys($Channels) as $key) {
                 if ($Channels[$key]->chanid == $this->chanid) {
-                    $this->channel = &$Channels[$key];
+                    $this->channel =& $Channels[$key];
                     break;
                 }
             }
+        // Not found
+            if (!$this->channel)
+                $this->channel =& load_one_channel($this->chanid);
         }
-
     // Calculate the duration
         if ($this->recendts)
             $this->length = $this->recendts - $this->recstartts;
diff -Naur mythplugins-0.19-old/mythweb/includes/recording_schedules.php mythplugins-0.19-new/mythweb/includes/recording_schedules.php
--- mythplugins-0.19-old/mythweb/includes/recording_schedules.php	2006-02-06 18:57:11.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/recording_schedules.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * The Schedule object and a couple of related subroutines.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-06 21:57:11 -0500 (Mon, 06 Feb 2006) $
- * @version     $Revision: 8887 $
+ * @date        $Date: 2006-03-22 21:02:51 -0800 (Wed, 22 Mar 2006) $
+ * @version     $Revision: 9469 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -68,10 +68,14 @@
 // Cleanup
     mysql_free_result($result);
 
-// Load all of the scheduled recordings.  We will need them at some point, so we
-// might as well get it overwith here.
+// Initialize
     global $Scheduled_Recordings, $Num_Conflicts, $Num_Scheduled;
     $Scheduled_Recordings = array();
+    $Num_Conflicts        = 0;
+    $Num_Scheduled        = 0;
+
+// Load all of the scheduled recordings.  We will need them at some point, so we
+// might as well get it overwith here.
     foreach (get_backend_rows('QUERY_GETALLPENDING', 2) as $key => $program) {
     // The offset entry
         if ($key === 'offset') {
diff -Naur mythplugins-0.19-old/mythweb/includes/recordings.php mythplugins-0.19-new/mythweb/includes/recordings.php
--- mythplugins-0.19-old/mythweb/includes/recordings.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/recordings.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * The Recording object, and a couple of related subroutines.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-09 22:15:17 -0800 (Thu, 09 Feb 2006) $
  * @version     $Revision: 8914 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/session.php mythplugins-0.19-new/mythweb/includes/session.php
--- mythplugins-0.19-old/mythweb/includes/session.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/session.php	2006-04-21 17:55:57.000000000 -0700
@@ -6,8 +6,8 @@
  * *after* the database connection has been established.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
- * @version     $Revision: 8830 $
+ * @date        $Date: 2006-04-03 08:52:53 -0700 (Mon, 03 Apr 2006) $
+ * @version     $Revision: 9616 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -19,8 +19,8 @@
 
 // Start the session
     session_name('mythweb_id');
-    session_set_cookie_params(60 * 60 * 30, '/');       // 30 day timeout on cookies
-    ini_set('session.gc_maxlifetime', 60 * 60 * 30);    // ... and sessions
+    session_set_cookie_params(60 * 60 * 24 * 365, '/');     // 1 year timeout on cookies
+    ini_set('session.gc_maxlifetime', 60 * 60 * 24 * 30);   // 30 day timeout on sessions
     session_set_save_handler('sess_do_nothing', 'sess_do_nothing', 'sess_read', 'sess_write', 'sess_destroy', 'sess_gc');
     session_start();
 
diff -Naur mythplugins-0.19-old/mythweb/includes/sorting.php mythplugins-0.19-new/mythweb/includes/sorting.php
--- mythplugins-0.19-old/mythweb/includes/sorting.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/sorting.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Routines for sorting Program objects
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/translate.php mythplugins-0.19-new/mythweb/includes/translate.php
--- mythplugins-0.19-old/mythweb/includes/translate.php	2006-02-01 20:32:34.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/translate.php	2006-04-21 17:55:57.000000000 -0700
@@ -9,7 +9,7 @@
  * preferred language based on the browser's specifications.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:32:34 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:32:34 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8830 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/includes/utils.php mythplugins-0.19-new/mythweb/includes/utils.php
--- mythplugins-0.19-old/mythweb/includes/utils.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/includes/utils.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * Utility routines used throughout mythweb
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
- * @version     $Revision: 8709 $
+ * @date        $Date: 2006-03-21 00:27:25 -0800 (Tue, 21 Mar 2006) $
+ * @version     $Revision: 9437 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -276,7 +276,7 @@
         static $first_run=true;
         if($first_run) {
             $first_run=false;
-            echo '<script type="text/javascript" src="/js/debug.js"></script>';
+            echo '<script type="text/javascript" src="'.root.'js/debug.js"></script>';
         }
     // Put our data into a string
         if (is_array($data) || is_object($data))
diff -Naur mythplugins-0.19-old/mythweb/js/ajax.js mythplugins-0.19-new/mythweb/js/ajax.js
--- mythplugins-0.19-old/mythweb/js/ajax.js	2005-10-22 10:32:26.000000000 -0700
+++ mythplugins-0.19-new/mythweb/js/ajax.js	2006-04-21 17:55:57.000000000 -0700
@@ -2,7 +2,7 @@
  * A small but growing library of generic AJAX routines.
  *
  * @url         $URL$
- * @date        $Date: 2005-10-22 13:32:26 -0400 (Sat, 22 Oct 2005) $
+ * @date        $Date: 2005-10-22 10:32:26 -0700 (Sat, 22 Oct 2005) $
  * @version     $Revision: 7561 $
  * @author      $Author: xris $
  * @license     LGPL
diff -Naur mythplugins-0.19-old/mythweb/js/browser.js mythplugins-0.19-new/mythweb/js/browser.js
--- mythplugins-0.19-old/mythweb/js/browser.js	2006-02-01 19:34:43.000000000 -0800
+++ mythplugins-0.19-new/mythweb/js/browser.js	2006-04-21 17:55:57.000000000 -0700
@@ -15,9 +15,9 @@
  * support for anything earlier than version 4 browsers because of their lack
  * of the RegExp object.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/js/browser.js $
- * @date        $Date: 2006-02-01 22:34:43 -0500 (Wed, 01 Feb 2006) $
- * @version     $Revision: 8826 $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/js/browser.js $
+ * @date        $Date: 2006-04-02 03:04:22 -0700 (Sun, 02 Apr 2006) $
+ * @version     $Revision: 9609 $
  * @author      $Author: xris $
  * @copyright   Silicon Mechanics
  * @license     LGPL
@@ -215,14 +215,18 @@
     browser.is_css = (document.body  && document.body.style)
     browser.is_w3c = (browser.is_css && browser.getElementById)
 
-// Cookie support
-    var tmp = document.cookie;
-	document.cookie = 'cookies=true';
-	browser.cookies = (document.cookie) ? true : false;
-    document.cookie = tmp;
+// Cookie support -- only create a cookie if there isn't one already.  It seems
+// that doing this can override the exipiration info in existing cookies.
+    browser.cookies = (document.cookie) ? true : false;
+    if (!browser.cookies) {
+        var tmp = document.cookie;
+        document.cookie = 'cookie_test=true';
+        browser.cookies = (document.cookie) ? true : false;
+        document.cookie = tmp;
+    }
 
 // Java support
-	browser.java = navigator.javaEnabled();
+    browser.java = navigator.javaEnabled();
 
 /****************************** Plugin Support ******************************/
 
diff -Naur mythplugins-0.19-old/mythweb/js/debug.js mythplugins-0.19-new/mythweb/js/debug.js
--- mythplugins-0.19-old/mythweb/js/debug.js	1969-12-31 16:00:00.000000000 -0800
+++ mythplugins-0.19-new/mythweb/js/debug.js	2006-04-21 17:55:57.000000000 -0700
@@ -0,0 +1,24 @@
+/**
+ * A random assortment of javascript debug routines
+ *
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/js/debug.js $
+ * @date        $Date: 2006-03-21 00:27:25 -0800 (Tue, 21 Mar 2006) $
+ * @version     $Revision: 9437 $
+ * @author      $Author: xris $
+ * @copyright   Silicon Mechanics
+ * @license     LGPL
+ *
+ * @package     SiMech
+ * @subpackage  Javascript
+ *
+/**/
+
+    var debug_window_handle;
+// Create a debug window and debug into it
+    function debug_window(string) {
+        if (!debug_window_handle || debug_window_handle.closed) {
+            debug_window_handle = window.open('', 'Debug Window','scrollbars, resizable, width=400, height=600');
+            debug_window_handle.document.write('<html><body style="font-size: 9pt; background-color: #f88;">');
+        }
+        debug_window_handle.document.write('<pre>'+string+'</pre><hr>');
+    }
diff -Naur mythplugins-0.19-old/mythweb/js/init.js mythplugins-0.19-new/mythweb/js/init.js
--- mythplugins-0.19-old/mythweb/js/init.js	2005-11-02 23:09:14.000000000 -0800
+++ mythplugins-0.19-new/mythweb/js/init.js	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * other javascript files.
  *
  * @url         $URL$
- * @date        $Date: 2005-11-03 02:09:14 -0500 (Thu, 03 Nov 2005) $
+ * @date        $Date: 2005-11-02 23:09:14 -0800 (Wed, 02 Nov 2005) $
  * @version     $Revision: 7680 $
  * @author      $Author: xris $
  * @license     LGPL
diff -Naur mythplugins-0.19-old/mythweb/js/mouseovers.js mythplugins-0.19-new/mythweb/js/mouseovers.js
--- mythplugins-0.19-old/mythweb/js/mouseovers.js	2006-01-24 19:27:24.000000000 -0800
+++ mythplugins-0.19-new/mythweb/js/mouseovers.js	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Primarily used for interactive menus
  *
  * @url         $URL: svn+ssh://xris@svn.siliconmechanics.com/var/svn/web/trunk/shared_code/js/mouseovers.js $
- * @date        $Date: 2006-01-24 22:27:24 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:27:24 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8708 $
  * @author      $Author: xris $
  * @license     LGPL
diff -Naur mythplugins-0.19-old/mythweb/js/utils.js mythplugins-0.19-new/mythweb/js/utils.js
--- mythplugins-0.19-old/mythweb/js/utils.js	2005-10-22 10:32:26.000000000 -0700
+++ mythplugins-0.19-new/mythweb/js/utils.js	2006-04-21 17:55:57.000000000 -0700
@@ -2,7 +2,7 @@
  * A random assortment of javascript utility routines
  *
  * @url         $URL$
- * @date        $Date: 2005-10-22 13:32:26 -0400 (Sat, 22 Oct 2005) $
+ * @date        $Date: 2005-10-22 10:32:26 -0700 (Sat, 22 Oct 2005) $
  * @version     $Revision: 7561 $
  * @author      $Author: xris $
  * @license     LGPL
diff -Naur mythplugins-0.19-old/mythweb/js/visibility.js mythplugins-0.19-new/mythweb/js/visibility.js
--- mythplugins-0.19-old/mythweb/js/visibility.js	2005-10-22 10:32:26.000000000 -0700
+++ mythplugins-0.19-new/mythweb/js/visibility.js	2006-04-21 17:55:57.000000000 -0700
@@ -2,7 +2,7 @@
  * Functions to show/hide html elements
  *
  * @url         $URL$
- * @date        $Date: 2005-10-22 13:32:26 -0400 (Sat, 22 Oct 2005) $
+ * @date        $Date: 2005-10-22 10:32:26 -0700 (Sat, 22 Oct 2005) $
  * @version     $Revision: 7561 $
  * @author      $Author: xris $
  * @license     LGPL
diff -Naur mythplugins-0.19-old/mythweb/languages/Finnish.php mythplugins-0.19-new/mythweb/languages/Finnish.php
--- mythplugins-0.19-old/mythweb/languages/Finnish.php	2006-02-10 18:48:14.000000000 -0800
+++ mythplugins-0.19-new/mythweb/languages/Finnish.php	2006-04-21 17:55:57.000000000 -0700
@@ -1,6 +1,6 @@
 <?php
 /*
- *  $Date: 2006-02-10 21:48:14 -0500 (Fri, 10 Feb 2006) $
+ *  $Date: 2006-02-10 18:48:14 -0800 (Fri, 10 Feb 2006) $
  *  $Revision: 8920 $
  *  $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/modules/backend_log/handler.php mythplugins-0.19-new/mythweb/modules/backend_log/handler.php
--- mythplugins-0.19-old/mythweb/modules/backend_log/handler.php	2005-12-07 21:00:04.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/backend_log/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,9 +2,9 @@
 /**
  * View the logs
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/backend_log/handler.php $
- * @date        $Date: 2005-12-08 00:00:04 -0500 (Thu, 08 Dec 2005) $
- * @version     $Revision: 8171 $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/backend_log/handler.php $
+ * @date        $Date: 2006-02-27 23:28:00 -0800 (Mon, 27 Feb 2006) $
+ * @version     $Revision: 9196 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -16,7 +16,7 @@
 // Where to start searching from
     $_GET['start'] = intVal($_GET['start']);
     if ($_GET['start'] < 1)
-        $_GET['start'] = 1;
+        $_GET['start'] = 0;
 
 // How many entries to show?
     $_GET['show'] = intVal($_GET['show']);
diff -Naur mythplugins-0.19-old/mythweb/modules/backend_log/init.php mythplugins-0.19-new/mythweb/modules/backend_log/init.php
--- mythplugins-0.19-old/mythweb/modules/backend_log/init.php	2005-12-15 22:55:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/backend_log/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Backend Logs module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/backend_log/init.php $
- * @date        $Date: 2005-12-16 01:55:02 -0500 (Fri, 16 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/backend_log/init.php $
+ * @date        $Date: 2005-12-15 22:55:02 -0800 (Thu, 15 Dec 2005) $
  * @version     $Revision: 8285 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/movietimes/init.php mythplugins-0.19-new/mythweb/modules/movietimes/init.php
--- mythplugins-0.19-old/mythweb/modules/movietimes/init.php	2006-01-28 19:19:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/movietimes/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Movie Times module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/movietimes/init.php $
- * @date        $Date: 2006-01-28 22:19:02 -0500 (Sat, 28 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/movietimes/init.php $
+ * @date        $Date: 2006-01-28 19:19:02 -0800 (Sat, 28 Jan 2006) $
  * @version     $Revision: 8758 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/music/handler.php mythplugins-0.19-new/mythweb/modules/music/handler.php
--- mythplugins-0.19-old/mythweb/modules/music/handler.php	2005-12-21 23:17:32.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/music/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * MythMusic browser
  *
  * @url         $URL: svn+ssh://xris@cvs.mythtv.org/var/lib/svn/trunk/mythplugins/mythweb/modules/music/init.php $
- * @date        $Date: 2005-12-22 02:17:32 -0500 (Thu, 22 Dec 2005) $
+ * @date        $Date: 2005-12-21 23:17:32 -0800 (Wed, 21 Dec 2005) $
  * @version     $Revision: 8347 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/music/init.php mythplugins-0.19-new/mythweb/modules/music/init.php
--- mythplugins-0.19-old/mythweb/modules/music/init.php	2006-01-28 19:19:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/music/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Music module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/music/init.php $
- * @date        $Date: 2006-01-28 22:19:02 -0500 (Sat, 28 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/music/init.php $
+ * @date        $Date: 2006-01-28 19:19:02 -0800 (Sat, 28 Jan 2006) $
  * @version     $Revision: 8758 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/settings/channels.php mythplugins-0.19-new/mythweb/modules/settings/channels.php
--- mythplugins-0.19-old/mythweb/modules/settings/channels.php	2005-12-30 16:21:51.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/settings/channels.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Configure MythTV Channels
  *
  * @url         $URL$
- * @date        $Date: 2005-12-30 19:21:51 -0500 (Fri, 30 Dec 2005) $
+ * @date        $Date: 2005-12-30 16:21:51 -0800 (Fri, 30 Dec 2005) $
  * @version     $Revision: 8441 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/settings/handler.php mythplugins-0.19-new/mythweb/modules/settings/handler.php
--- mythplugins-0.19-old/mythweb/modules/settings/handler.php	2005-12-14 23:33:52.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/settings/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Handler for all MythWeb Settings routines
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/settings/handler.php $
- * @date        $Date: 2005-12-15 02:33:52 -0500 (Thu, 15 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/settings/handler.php $
+ * @date        $Date: 2005-12-14 23:33:52 -0800 (Wed, 14 Dec 2005) $
  * @version     $Revision: 8273 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/settings/init.php mythplugins-0.19-new/mythweb/modules/settings/init.php
--- mythplugins-0.19-old/mythweb/modules/settings/init.php	2005-12-30 16:08:13.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/settings/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb settings module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/settings/init.php $
- * @date        $Date: 2005-12-30 19:08:13 -0500 (Fri, 30 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/settings/init.php $
+ * @date        $Date: 2005-12-30 16:08:13 -0800 (Fri, 30 Dec 2005) $
  * @version     $Revision: 8440 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/settings/keys.php mythplugins-0.19-new/mythweb/modules/settings/keys.php
--- mythplugins-0.19-old/mythweb/modules/settings/keys.php	2006-01-14 11:52:53.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/settings/keys.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Configure MythTV Key Bindings
  *
  * @url         $URL$
- * @date        $Date: 2006-01-14 14:52:53 -0500 (Sat, 14 Jan 2006) $
+ * @date        $Date: 2006-01-14 11:52:53 -0800 (Sat, 14 Jan 2006) $
  * @version     $Revision: 8607 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/settings/session.php mythplugins-0.19-new/mythweb/modules/settings/session.php
--- mythplugins-0.19-old/mythweb/modules/settings/session.php	2006-01-28 11:36:32.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/settings/session.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Display/save mythweb session settings
  *
  * @url         $URL$
- * @date        $Date: 2006-01-28 14:36:32 -0500 (Sat, 28 Jan 2006) $
+ * @date        $Date: 2006-01-28 11:36:32 -0800 (Sat, 28 Jan 2006) $
  * @version     $Revision: 8744 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/status/handler.php mythplugins-0.19-new/mythweb/modules/status/handler.php
--- mythplugins-0.19-old/mythweb/modules/status/handler.php	2005-12-07 21:00:04.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/status/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -4,8 +4,8 @@
  * port 6544)
  *
  * @url         $URL$
- * @date        $Date: 2005-12-08 00:00:04 -0500 (Thu, 08 Dec 2005) $
- * @version     $Revision: 8171 $
+ * @date        $Date: 2006-02-23 19:02:31 -0800 (Thu, 23 Feb 2006) $
+ * @version     $Revision: 9130 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -18,14 +18,17 @@
     $masterhost = get_backend_setting('MasterServerIP');
     $statusport = get_backend_setting('BackendStatusPort');
 
+// XML mode?
+    $xml_param = ($Path[1] == 'xml') ? '/xml' : '';
+
 // Make sure the content is interpreted as UTF-8
     header('Content-Type:  text/html; charset=UTF-8');
 
 // Load the status page
     if (function_exists('file_get_contents'))
-        $status = file_get_contents("http://$masterhost:$statusport");
+        $status = file_get_contents("http://$masterhost:$statusport$xml_param");
     else
-        $status = implode("\n", file("http://$masterhost:$statusport"));
+        $status = implode("\n", file("http://$masterhost:$statusport$xml_param"));
 
 // Extract the page title
     preg_match('#<title>(.+?)</title>#s', $status, $title);
diff -Naur mythplugins-0.19-old/mythweb/modules/status/init.php mythplugins-0.19-new/mythweb/modules/status/init.php
--- mythplugins-0.19-old/mythweb/modules/status/init.php	2005-12-15 22:55:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/status/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Status module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/status/init.php $
- * @date        $Date: 2005-12-16 01:55:02 -0500 (Fri, 16 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/status/init.php $
+ * @date        $Date: 2005-12-15 22:55:02 -0800 (Thu, 15 Dec 2005) $
  * @version     $Revision: 8285 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/stream/handler.php mythplugins-0.19-new/mythweb/modules/stream/handler.php
--- mythplugins-0.19-old/mythweb/modules/stream/handler.php	2005-12-16 21:27:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/stream/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * This module would work fine, except that PHP freaks out with files larger
  * than 2G, so it's disabled and left half-finished.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/stream/handler.php $
- * @date        $Date: 2005-12-17 00:27:36 -0500 (Sat, 17 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/stream/handler.php $
+ * @date        $Date: 2005-12-16 21:27:36 -0800 (Fri, 16 Dec 2005) $
  * @version     $Revision: 8297 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/stream/init.php mythplugins-0.19-new/mythweb/modules/stream/init.php
--- mythplugins-0.19-old/mythweb/modules/stream/init.php	2005-12-07 21:00:04.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/stream/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb streaming module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/stream/init.php $
- * @date        $Date: 2005-12-08 00:00:04 -0500 (Thu, 08 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/stream/init.php $
+ * @date        $Date: 2005-12-07 21:00:04 -0800 (Wed, 07 Dec 2005) $
  * @version     $Revision: 8171 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/channel.php mythplugins-0.19-new/mythweb/modules/tv/channel.php
--- mythplugins-0.19-old/mythweb/modules/tv/channel.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/channel.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Show the current lineup for a specific channel
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/detail.php mythplugins-0.19-new/mythweb/modules/tv/detail.php
--- mythplugins-0.19-old/mythweb/modules/tv/detail.php	2006-02-06 18:57:11.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/detail.php	2006-04-21 17:55:57.000000000 -0700
@@ -4,7 +4,7 @@
  * commands.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-06 21:57:11 -0500 (Mon, 06 Feb 2006) $
+ * @date        $Date: 2006-02-06 18:57:11 -0800 (Mon, 06 Feb 2006) $
  * @version     $Revision: 8887 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/handler.php mythplugins-0.19-new/mythweb/modules/tv/handler.php
--- mythplugins-0.19-old/mythweb/modules/tv/handler.php	2005-12-31 16:00:31.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Handler for all MythWeb TV routines
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/tv/handler.php $
- * @date        $Date: 2005-12-31 19:00:31 -0500 (Sat, 31 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/tv/handler.php $
+ * @date        $Date: 2005-12-31 16:00:31 -0800 (Sat, 31 Dec 2005) $
  * @version     $Revision: 8460 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/init.php mythplugins-0.19-new/mythweb/modules/tv/init.php
--- mythplugins-0.19-old/mythweb/modules/tv/init.php	2005-12-31 16:00:31.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb TV module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/tv/init.php $
- * @date        $Date: 2005-12-31 19:00:31 -0500 (Sat, 31 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/tv/init.php $
+ * @date        $Date: 2005-12-31 16:00:31 -0800 (Sat, 31 Dec 2005) $
  * @version     $Revision: 8460 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/list.php mythplugins-0.19-new/mythweb/modules/tv/list.php
--- mythplugins-0.19-old/mythweb/modules/tv/list.php	2005-11-10 23:25:35.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/list.php	2006-04-21 17:55:57.000000000 -0700
@@ -6,7 +6,7 @@
  * This is the default viewing mode, and shows the current program listings.
  *
  * @url         $URL$
- * @date        $Date: 2005-11-11 02:25:35 -0500 (Fri, 11 Nov 2005) $
+ * @date        $Date: 2005-11-10 23:25:35 -0800 (Thu, 10 Nov 2005) $
  * @version     $Revision: 7840 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/recorded.php mythplugins-0.19-new/mythweb/modules/tv/recorded.php
--- mythplugins-0.19-old/mythweb/modules/tv/recorded.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/recorded.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * view and manipulate recorded programs.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
- * @version     $Revision: 8914 $
+ * @date        $Date: 2006-03-22 23:17:32 -0800 (Wed, 22 Mar 2006) $
+ * @version     $Revision: 9477 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -128,9 +128,21 @@
                 continue;
         // Get the length (27 == recendts; 26 == recstartts)
             $length = $record[27] - $record[26];
-        // Keep track of the total time and disk space used
+        // Keep track of the total time and disk space used (9 == fs_high; 10 == fs_low)
             $Total_Time += $length;
-            $Total_Used += ($record[9] + ($record[10] < 0)) * 4294967296 + $record[10];  // 9 == fs_high; 10 == fs_low;
+            if (function_exists('gmp_add')) {
+            // GMP functions should work better with 64 bit numbers.
+                $size = gmp_add($record[10],
+                                gmp_mul('4294967296',
+                                        gmp_add($record[9], $record[10] < 0 ? '1' : '0')
+                                       )
+                               );
+                $Total_Used = gmp_strval(gmp_add($Total_Used, $size));
+            }
+            else {
+            // This is inaccurate, but it's the best we can get without GMP.
+                $Total_Used += ($record[9] + ($record[10] < 0)) * 4294967296 + $record[10];
+            }
         // keep track of their names and how many episodes we have recorded
             $Total_Programs++;
             $Groups[$record[30]]++;
@@ -223,8 +235,28 @@
 
 // How much free disk space on the backend machine?
     list($size_high, $size_low, $used_high, $used_low) = explode(backend_sep, backend_command('QUERY_FREE_SPACE'));
-    define(disk_size, (($size_high + ($size_low < 0)) * 4294967296 + $size_low) * 1024);
-    define(disk_used, (($used_high + ($used_low < 0)) * 4294967296 + $used_low) * 1024);
+    if (function_exists('gmp_add')) {
+    // GMP functions should work better with 64 bit numbers.
+        $size = gmp_mul('1024',
+                        gmp_add($size_low,
+                                gmp_mul('4294967296',
+                                        gmp_add($size_high, $size_low < 0 ? '1' : '0'))
+                               )
+                       );
+        define(disk_size, gmp_strval($size));
+        $size = gmp_mul('1024',
+                        gmp_add($used_low,
+                                gmp_mul('4294967296',
+                                        gmp_add($used_high, $used_low < 0 ? '1' : '0'))
+                               )
+                       );
+        define(disk_used, gmp_strval($size));
+    }
+    else {
+    // This is inaccurate, but it's the best we can get without GMP.
+        define(disk_size, (($size_high + ($size_low < 0)) * 4294967296 + $size_low) * 1024);
+        define(disk_used, (($used_high + ($used_low < 0)) * 4294967296 + $used_low) * 1024);
+    }
 
 // Load the class for this page
     require_once theme_dir.'tv/recorded.php';
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/schedules_custom.php mythplugins-0.19-new/mythweb/modules/tv/schedules_custom.php
--- mythplugins-0.19-old/mythweb/modules/tv/schedules_custom.php	2006-02-01 20:03:21.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/schedules_custom.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Schedule a custom recording by manually specifying various search options
  *
  * @url         $URL$
- * @date        $Date: 2006-02-01 23:03:21 -0500 (Wed, 01 Feb 2006) $
+ * @date        $Date: 2006-02-01 20:03:21 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8828 $
  * @author      $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/schedules_manual.php mythplugins-0.19-new/mythweb/modules/tv/schedules_manual.php
--- mythplugins-0.19-old/mythweb/modules/tv/schedules_manual.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/schedules_manual.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Schedule a custom recording by manually specifying starttime and length
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-09 22:15:17 -0800 (Thu, 09 Feb 2006) $
  * @version     $Revision: 8914 $
  * @author      $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/schedules.php mythplugins-0.19-new/mythweb/modules/tv/schedules.php
--- mythplugins-0.19-old/mythweb/modules/tv/schedules.php	2005-12-31 14:26:52.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/schedules.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * View all recording schedules
  *
  * @url         $URL$
- * @date        $Date: 2005-12-31 17:26:52 -0500 (Sat, 31 Dec 2005) $
+ * @date        $Date: 2005-12-31 14:26:52 -0800 (Sat, 31 Dec 2005) $
  * @version     $Revision: 8456 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/searches.php mythplugins-0.19-new/mythweb/modules/tv/searches.php
--- mythplugins-0.19-old/mythweb/modules/tv/searches.php	2005-12-07 20:35:19.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/searches.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * An index for handy SQL searches in the listings data
  *
  * @url         $URL$
- * @date        $Date: 2005-12-07 23:35:19 -0500 (Wed, 07 Dec 2005) $
+ * @date        $Date: 2005-12-07 20:35:19 -0800 (Wed, 07 Dec 2005) $
  * @version     $Revision: 8169 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/search.php mythplugins-0.19-new/mythweb/modules/tv/search.php
--- mythplugins-0.19-old/mythweb/modules/tv/search.php	2006-02-10 18:45:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/search.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Searches the database for programs matching a particular query.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 21:45:02 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-10 18:45:02 -0800 (Fri, 10 Feb 2006) $
  * @version     $Revision: 8919 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/tv/upcoming.php mythplugins-0.19-new/mythweb/modules/tv/upcoming.php
--- mythplugins-0.19-old/mythweb/modules/tv/upcoming.php	2006-02-06 18:57:11.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/tv/upcoming.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,8 +3,8 @@
  * View and fix scheduling conflicts.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-06 21:57:11 -0500 (Mon, 06 Feb 2006) $
- * @version     $Revision: 8887 $
+ * @date        $Date: 2006-02-27 20:54:08 -0800 (Mon, 27 Feb 2006) $
+ * @version     $Revision: 9181 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -103,8 +103,9 @@
                         continue;
                 }
             // Skip deactivated shows?
-                elseif (!$_SESSION['scheduled_recordings']['disp_deactivated']) {
-                    continue;
+                elseif ($show->recstatus != 'Recording') {
+                    if (!$_SESSION['scheduled_recordings']['disp_deactivated'])
+                        continue;
                 }
             // Assign a reference to this show to the various arrays
                 $all_shows[] =& $Scheduled_Recordings[$channum][$starttime][$key];
diff -Naur mythplugins-0.19-old/mythweb/modules/video/edit.php mythplugins-0.19-new/mythweb/modules/video/edit.php
--- mythplugins-0.19-old/mythweb/modules/video/edit.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/video/edit.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * Edit MythVideo file information
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/modules/video/handler.php mythplugins-0.19-new/mythweb/modules/video/handler.php
--- mythplugins-0.19-old/mythweb/modules/video/handler.php	2006-01-25 18:45:37.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/video/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -3,7 +3,7 @@
  * View MythVideo files
  *
  * @url         $URL$
- * @date        $Date: 2006-01-25 21:45:37 -0500 (Wed, 25 Jan 2006) $
+ * @date        $Date: 2006-01-25 18:45:37 -0800 (Wed, 25 Jan 2006) $
  * @version     $Revision: 8727 $
  * @author      $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/modules/video/init.php mythplugins-0.19-new/mythweb/modules/video/init.php
--- mythplugins-0.19-old/mythweb/modules/video/init.php	2006-01-28 19:19:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/video/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Video module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/video/init.php $
- * @date        $Date: 2006-01-28 22:19:02 -0500 (Sat, 28 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/video/init.php $
+ * @date        $Date: 2006-01-28 19:19:02 -0800 (Sat, 28 Jan 2006) $
  * @version     $Revision: 8758 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/weather/handler.php mythplugins-0.19-new/mythweb/modules/weather/handler.php
--- mythplugins-0.19-old/mythweb/modules/weather/handler.php	2005-12-15 22:55:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/weather/handler.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,9 +2,9 @@
 /**
  * Handler for the Weather module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/weather/handler.php $
- * @date        $Date: 2005-12-16 01:55:02 -0500 (Fri, 16 Dec 2005) $
- * @version     $Revision: 8285 $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/weather/handler.php $
+ * @date        $Date: 2006-03-06 20:15:13 -0800 (Mon, 06 Mar 2006) $
+ * @version     $Revision: 9280 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -222,8 +222,10 @@
 
     $data = explode("|", $data);
     for($i = 0;$i<5;$i++) {
-        $forecast = new Forecast($data[5 + $i],$data[$i]);
-        $forecast->dayofweek = $data[$i];
+	# mktime uses 0-6;  msnbc gives us 1-7;  adjust msnbc to match mktime
+	$dayofweek = $data[$i] - 1;
+        $forecast = new Forecast($data[5 + $i],$dayofweek);
+        $forecast->dayofweek = $dayofweek;
         list($forecast->DescImage,$forecast->DescText) = getImageAndDescFromId($data[15 + $i]);
         $forecast->DescImage = (strlen($forecast->DescImage) > 0) ? $forecast->DescImage : "unknown.png";
         $forecast->DescText = (strlen($forecast->DescText) > 0) ? $forecast->DescText : t('Unknown') . " (" . $data[15+$i] . ")";
diff -Naur mythplugins-0.19-old/mythweb/modules/weather/init.php mythplugins-0.19-new/mythweb/modules/weather/init.php
--- mythplugins-0.19-old/mythweb/modules/weather/init.php	2005-12-15 22:55:02.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/weather/init.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Initialization routines for the MythWeb Weather module
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/weather/init.php $
- * @date        $Date: 2005-12-16 01:55:02 -0500 (Fri, 16 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/weather/init.php $
+ * @date        $Date: 2005-12-15 22:55:02 -0800 (Thu, 15 Dec 2005) $
  * @version     $Revision: 8285 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/modules/welcome.php mythplugins-0.19-new/mythweb/modules/welcome.php
--- mythplugins-0.19-old/mythweb/modules/welcome.php	2005-11-06 23:56:40.000000000 -0800
+++ mythplugins-0.19-new/mythweb/modules/welcome.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page that lists the available mythweb sections
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/modules/welcome.php $
- * @date        $Date: 2005-11-07 02:56:40 -0500 (Mon, 07 Nov 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/modules/welcome.php $
+ * @date        $Date: 2005-11-06 23:56:40 -0800 (Sun, 06 Nov 2005) $
  * @version     $Revision: 7776 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/mythweb.php mythplugins-0.19-new/mythweb/mythweb.php
--- mythplugins-0.19-old/mythweb/mythweb.php	2006-01-30 16:05:51.000000000 -0800
+++ mythplugins-0.19-new/mythweb/mythweb.php	2006-04-21 17:55:57.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * The main brain script for all of MythWeb.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/mythweb.php $
- * @date        $Date: 2006-01-30 19:05:51 -0500 (Mon, 30 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/mythweb.php $
+ * @date        $Date: 2006-01-30 16:05:51 -0800 (Mon, 30 Jan 2006) $
  * @version     $Revision: 8793 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/README mythplugins-0.19-new/mythweb/README
--- mythplugins-0.19-old/mythweb/README	2006-01-17 20:01:12.000000000 -0800
+++ mythplugins-0.19-new/mythweb/README	2006-04-21 17:55:57.000000000 -0700
@@ -1,17 +1,11 @@
 This is the README file for the MythWeb package.
-January 17, 2006
+March 6, 2006
 
-Version: .19 pre
-(c) 2002-2006  Thor Sigvaldason <mythtv(a)lamedomainname(o)com>
+Version: .19
+(c) 2002-2006  Chris Petersen   <mythweb(a)forevermore(o)net>
                Isaac Richards   <ijr(a)po(o)cwru(o)edu>
-               Chris Petersen   <mythweb(a)forevermore(o)net>
-
-with contributions from many people including:
-
-Michael Kedl   <kedlm(a)knology(o)net>
-Jonathan Kolb  <jkolb(a)greyshift(o)net
-Ed Wildgoose   <edward(o)wildgoose(a)frmhedge(o)com>
-Kenneth Aafloy <ke-aa(a)frisurf(o)no>
+               Thor Sigvaldason <mythtv(a)lamedomainname(o)com>
+               and others... (see mythtv.org commit logs for details)
 
 MythWeb is distributed under the GNU GENERAL PUBLIC LICENSE version 2, and where
 noted with the @license tag, the LESSER GENERAL PUBLIC LICENSE version 2.
@@ -63,9 +57,21 @@
 
     In order for the included .htaccess to work properly, you will need to
 set apache's "AllowOverride" setting to "All" (or at least "Options") for
-the root mythweb directory.  This directive lives within <Directory/> tags,
-so make sure you're changing the setting for the correct directory.  You will
-also need to make sure that the following apache modules are enabled:
+the root mythweb directory.  This directive lives within <Directory> tags,
+so make sure you're changing the setting for the correct directory.  Please
+keep in mind that most distros correctly disable everything for <Directory />,
+and then later override those with something like <Directory /var/www/html>.
+The simplest way to do this is to put a file into /etc/httpd/conf.d (or
+whatever your distro calls it) containing something like:
+
+    <Directory "/var/www/html/mythweb" >
+        Options         FollowSymLinks
+        AllowOverride   All
+    </Directory>
+
+Just make sure that the path points to your MythWeb installation, since that
+will likely differ from system to system.  You will also need to make sure that
+the following apache modules are enabled:
 
     mod_env
     mod_rewrite
diff -Naur mythplugins-0.19-old/mythweb/themes/default/backend_log/backend_log.php mythplugins-0.19-new/mythweb/themes/default/backend_log/backend_log.php
--- mythplugins-0.19-old/mythweb/themes/default/backend_log/backend_log.php	2005-12-05 20:10:28.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/backend_log/backend_log.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * The display code for the main welcome page that lists the available mythweb
  * sections.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/backend_log/backend_log.php $
- * @date        $Date: 2005-12-05 23:10:28 -0500 (Mon, 05 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/backend_log/backend_log.php $
+ * @date        $Date: 2005-12-05 20:10:28 -0800 (Mon, 05 Dec 2005) $
  * @version     $Revision: 8132 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/backend_log/welcome.php mythplugins-0.19-new/mythweb/themes/default/backend_log/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/backend_log/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/backend_log/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the status module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/backend_log/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/backend_log/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/footer.php mythplugins-0.19-new/mythweb/themes/default/footer.php
--- mythplugins-0.19-old/mythweb/themes/default/footer.php	2005-11-07 22:43:55.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/footer.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * This footer file is shared by all MythWeb modules.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/footer.php $
- * @date        $Date: 2005-11-08 01:43:55 -0500 (Tue, 08 Nov 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/footer.php $
+ * @date        $Date: 2005-11-07 22:43:55 -0800 (Mon, 07 Nov 2005) $
  * @version     $Revision: 7795 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/header.php mythplugins-0.19-new/mythweb/themes/default/header.php
--- mythplugins-0.19-old/mythweb/themes/default/header.php	2006-02-10 18:48:14.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/header.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * This header file is shared by all MythWeb modules.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/header.php $
- * @date        $Date: 2006-02-10 21:48:14 -0500 (Fri, 10 Feb 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/header.php $
+ * @date        $Date: 2006-02-10 18:48:14 -0800 (Fri, 10 Feb 2006) $
  * @version     $Revision: 8920 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/movietimes/welcome.php mythplugins-0.19-new/mythweb/themes/default/movietimes/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/movietimes/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/movietimes/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the Movie Times module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/movietimes/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/movietimes/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/music/music.php mythplugins-0.19-new/mythweb/themes/default/music/music.php
--- mythplugins-0.19-old/mythweb/themes/default/music/music.php	2005-12-17 01:16:41.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/music/music.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * MythMusic browser.
  *
  * @url         $URL$
- * @date        $Date: 2005-12-17 04:16:41 -0500 (Sat, 17 Dec 2005) $
- * @version     $Revision: 8298 $
+ * @date        $Date: 2006-02-27 23:59:57 -0800 (Mon, 27 Feb 2006) $
+ * @version     $Revision: 9200 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -164,10 +164,12 @@
 
     function print_header($filterPlaylist,$filterArtist,$filterAlbum,$filterGenre) {
         $this->filterPlaylist=$filterPlaylist;
-// Set the desired page title
-    $page_title = 'MythWeb - '.t('Music');
-// Print the page header
-    require_once theme_dir.'/header.php';
+    // Set the desired page title
+        global $page_title, $Modules, $headers;
+        $page_title = 'MythWeb - '.t('Music');
+    // Print the page header
+        require_once theme_dir.'/header.php';
+
         printf("<form  action=\"".root."music\" method=\"GET\" >\n");
         printf("<input type=\"hidden\" name=\"mode\" value=\"music\" />\n");
 
diff -Naur mythplugins-0.19-old/mythweb/themes/default/music/welcome.php mythplugins-0.19-new/mythweb/themes/default/music/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/music/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/music/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the Music module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/music/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/music/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/settings/channels.php mythplugins-0.19-new/mythweb/themes/default/settings/channels.php
--- mythplugins-0.19-old/mythweb/themes/default/settings/channels.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/settings/channels.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Configure MythTV Channel info
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/settings/keys.php mythplugins-0.19-new/mythweb/themes/default/settings/keys.php
--- mythplugins-0.19-old/mythweb/themes/default/settings/keys.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/settings/keys.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Configure MythTV Key Bindings
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/settings/session.php mythplugins-0.19-new/mythweb/themes/default/settings/session.php
--- mythplugins-0.19-old/mythweb/themes/default/settings/session.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/settings/session.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Configure MythWeb Session info
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/settings/settings.php mythplugins-0.19-new/mythweb/themes/default/settings/settings.php
--- mythplugins-0.19-old/mythweb/themes/default/settings/settings.php	2006-02-01 23:59:05.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/settings/settings.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Main settings index
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 02:59:05 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-01 23:59:05 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8837 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/settings/welcome.php mythplugins-0.19-new/mythweb/themes/default/settings/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/settings/welcome.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/settings/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the Settings module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/settings/welcome.php $
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/settings/welcome.php $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/status/status.php mythplugins-0.19-new/mythweb/themes/default/status/status.php
--- mythplugins-0.19-old/mythweb/themes/default/status/status.php	2005-11-07 19:37:20.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/status/status.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * The display code for the main welcome page that lists the available mythweb
  * sections.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/status/status.php $
- * @date        $Date: 2005-11-07 22:37:20 -0500 (Mon, 07 Nov 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/status/status.php $
+ * @date        $Date: 2005-11-07 19:37:20 -0800 (Mon, 07 Nov 2005) $
  * @version     $Revision: 7792 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/status/welcome.php mythplugins-0.19-new/mythweb/themes/default/status/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/status/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/status/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the status module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/status/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/status/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/channel.php mythplugins-0.19-new/mythweb/themes/default/tv/channel.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/channel.php	2005-12-30 15:11:40.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/channel.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Show the current lineup for a specific channel
  *
  * @url         $URL$
- * @date        $Date: 2005-12-30 18:11:40 -0500 (Fri, 30 Dec 2005) $
+ * @date        $Date: 2005-12-30 15:11:40 -0800 (Fri, 30 Dec 2005) $
  * @version     $Revision: 8431 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/detail.php mythplugins-0.19-new/mythweb/themes/default/tv/detail.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/detail.php	2006-01-29 23:16:42.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/detail.php	2006-04-21 17:55:56.000000000 -0700
@@ -4,8 +4,8 @@
  * commands.
  *
  * @url         $URL$
- * @date        $Date: 2006-01-30 02:16:42 -0500 (Mon, 30 Jan 2006) $
- * @version     $Revision: 8776 $
+ * @date        $Date: 2006-02-27 20:56:45 -0800 (Mon, 27 Feb 2006) $
+ * @version     $Revision: 9183 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -51,7 +51,7 @@
 <?php   } ?>
             <div id="program_title">
                 <h1>
-                    <a href="<?php echo root ?>tv/search/<?php echo urlencode($program->title) ?>&search_title=yes"><?php echo $schedule->title ?></a>
+                    <a href="<?php echo root ?>tv/search/<?php echo str_replace('%2F', '/', rawurlencode($schedule->title)) ?>?search_title=1"><?php echo $schedule->title ?></a>
                 </h1>
                 <div id="program_time">
 <?php
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/list.php mythplugins-0.19-new/mythweb/themes/default/tv/list.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/list.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/list.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Print the program list
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-09 22:15:17 -0800 (Thu, 09 Feb 2006) $
  * @version     $Revision: 8914 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/recorded.php mythplugins-0.19-new/mythweb/themes/default/tv/recorded.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/recorded.php	2006-02-02 00:21:54.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/recorded.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Show recorded programs.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 03:21:54 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-02 00:21:54 -0800 (Thu, 02 Feb 2006) $
  * @version     $Revision: 8838 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/schedules_custom.php mythplugins-0.19-new/mythweb/themes/default/tv/schedules_custom.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/schedules_custom.php	2006-01-29 23:22:21.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/schedules_custom.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Schedule a custom recording by manually specifying various search options
  *
  * @url         $URL$
- * @date        $Date: 2006-01-30 02:22:21 -0500 (Mon, 30 Jan 2006) $
+ * @date        $Date: 2006-01-29 23:22:21 -0800 (Sun, 29 Jan 2006) $
  * @version     $Revision: 8778 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/schedules_manual.php mythplugins-0.19-new/mythweb/themes/default/tv/schedules_manual.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/schedules_manual.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/schedules_manual.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Schedule a custom recording by manually specifying starttime and length
  *
  * @url         $URL$
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/schedules.php mythplugins-0.19-new/mythweb/themes/default/tv/schedules.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/schedules.php	2005-12-31 14:26:52.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/schedules.php	2006-04-21 17:55:56.000000000 -0700
@@ -4,7 +4,7 @@
  * It must define one method.   documentation will be added someday.
  *
  * @url         $URL$
- * @date        $Date: 2005-12-31 17:26:52 -0500 (Sat, 31 Dec 2005) $
+ * @date        $Date: 2005-12-31 14:26:52 -0800 (Sat, 31 Dec 2005) $
  * @version     $Revision: 8456 $
  * @author      $Author: xris $
  *
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/searches.php mythplugins-0.19-new/mythweb/themes/default/tv/searches.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/searches.php	2005-12-15 19:07:00.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/searches.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Handy predefined searches
  *
  * @url         $URL$
- * @date        $Date: 2005-12-15 22:07:00 -0500 (Thu, 15 Dec 2005) $
+ * @date        $Date: 2005-12-15 19:07:00 -0800 (Thu, 15 Dec 2005) $
  * @version     $Revision: 8278 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/search.php mythplugins-0.19-new/mythweb/themes/default/tv/search.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/search.php	2006-02-09 22:15:17.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/search.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Show search results, or how to perform a detailed search.
  *
  * @url         $URL$
- * @date        $Date: 2006-02-10 01:15:17 -0500 (Fri, 10 Feb 2006) $
+ * @date        $Date: 2006-02-09 22:15:17 -0800 (Thu, 09 Feb 2006) $
  * @version     $Revision: 8914 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/upcoming.php mythplugins-0.19-new/mythweb/themes/default/tv/upcoming.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/upcoming.php	2005-12-29 11:48:49.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/upcoming.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Show all upcoming recordings.
  *
  * @url         $URL$
- * @date        $Date: 2005-12-29 14:48:49 -0500 (Thu, 29 Dec 2005) $
+ * @date        $Date: 2005-12-29 11:48:49 -0800 (Thu, 29 Dec 2005) $
  * @version     $Revision: 8421 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/tv/welcome.php mythplugins-0.19-new/mythweb/themes/default/tv/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/tv/welcome.php	2006-01-24 19:41:36.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/tv/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the TV module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/tv/welcome.php $
- * @date        $Date: 2006-01-24 22:41:36 -0500 (Tue, 24 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/tv/welcome.php $
+ * @date        $Date: 2006-01-24 19:41:36 -0800 (Tue, 24 Jan 2006) $
  * @version     $Revision: 8709 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/video/video.php mythplugins-0.19-new/mythweb/themes/default/video/video.php
--- mythplugins-0.19-old/mythweb/themes/default/video/video.php	2006-02-01 23:59:05.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/video/video.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,7 +3,7 @@
  * Rudimentary interface to MythVideo data
  *
  * @url         $URL$
- * @date        $Date: 2006-02-02 02:59:05 -0500 (Thu, 02 Feb 2006) $
+ * @date        $Date: 2006-02-01 23:59:05 -0800 (Wed, 01 Feb 2006) $
  * @version     $Revision: 8837 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/video/welcome.php mythplugins-0.19-new/mythweb/themes/default/video/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/video/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/video/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the Video module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/video/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/video/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/weather/weather.php mythplugins-0.19-new/mythweb/themes/default/weather/weather.php
--- mythplugins-0.19-old/mythweb/themes/default/weather/weather.php	2005-11-07 22:43:55.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/weather/weather.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * Display template for the Weather module
  *
  * @url         $URL$
- * @date        $Date: 2005-11-08 01:43:55 -0500 (Tue, 08 Nov 2005) $
- * @version     $Revision: 7795 $
+ * @date        $Date: 2006-03-06 20:15:13 -0800 (Mon, 06 Mar 2006) $
+ * @version     $Revision: 9280 $
  * @author      $Author: xris $
  * @license     GPL
  *
@@ -93,13 +93,13 @@
                 $tomorrow = date("m/d/Y", mktime(0, 0, 0, date("m")  , date("d")+1, date("Y")));
 
                 switch($forecast->dayofweek) {
+                    case 0:  $day = t('Sunday');        break;
                     case 1:  $day = t('Monday');        break;
                     case 2:  $day = t('Tuesday');       break;
                     case 3:  $day = t('Wednesday');     break;
                     case 4:  $day = t('Thursday');      break;
                     case 5:  $day = t('Friday');        break;
                     case 6:  $day = t('Saturday');      break;
-                    case 7:  $day = t('Sunday');        break;
                     default: $day = $forecast->date;    break;
                 }
 
diff -Naur mythplugins-0.19-old/mythweb/themes/default/weather/welcome.php mythplugins-0.19-new/mythweb/themes/default/weather/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/weather/welcome.php	2005-12-12 23:23:18.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/weather/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * Welcome page description of the Weather module.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/weather/welcome.php $
- * @date        $Date: 2005-12-13 02:23:18 -0500 (Tue, 13 Dec 2005) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/weather/welcome.php $
+ * @date        $Date: 2005-12-12 23:23:18 -0800 (Mon, 12 Dec 2005) $
  * @version     $Revision: 8252 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/default/welcome.php mythplugins-0.19-new/mythweb/themes/default/welcome.php
--- mythplugins-0.19-old/mythweb/themes/default/welcome.php	2006-02-04 13:20:25.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/default/welcome.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * The display code for the main welcome page that lists the available mythweb
  * sections.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/default/welcome.php $
- * @date        $Date: 2006-02-04 16:20:25 -0500 (Sat, 04 Feb 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/default/welcome.php $
+ * @date        $Date: 2006-02-04 13:20:25 -0800 (Sat, 04 Feb 2006) $
  * @version     $Revision: 8863 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/wap/footer.php mythplugins-0.19-new/mythweb/themes/wap/footer.php
--- mythplugins-0.19-old/mythweb/themes/wap/footer.php	2006-01-25 18:43:22.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/wap/footer.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * This footer file is shared by all MythWeb modules.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/wap/footer.php $
- * @date        $Date: 2006-01-25 21:43:22 -0500 (Wed, 25 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/wap/footer.php $
+ * @date        $Date: 2006-01-25 18:43:22 -0800 (Wed, 25 Jan 2006) $
  * @version     $Revision: 8726 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/wap/header.php mythplugins-0.19-new/mythweb/themes/wap/header.php
--- mythplugins-0.19-old/mythweb/themes/wap/header.php	2006-01-25 18:43:22.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/wap/header.php	2006-04-21 17:55:56.000000000 -0700
@@ -2,8 +2,8 @@
 /**
  * This header file is shared by all MythWeb modules.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/wap/header.php $
- * @date        $Date: 2006-01-25 21:43:22 -0500 (Wed, 25 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/wap/header.php $
+ * @date        $Date: 2006-01-25 18:43:22 -0800 (Wed, 25 Jan 2006) $
  * @version     $Revision: 8726 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/wap/status/status.php mythplugins-0.19-new/mythweb/themes/wap/status/status.php
--- mythplugins-0.19-old/mythweb/themes/wap/status/status.php	2006-01-25 18:43:22.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/wap/status/status.php	2006-04-21 17:55:56.000000000 -0700
@@ -3,8 +3,8 @@
  * The display code for the main welcome page that lists the available mythweb
  * sections.
  *
- * @url         $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/tags/release-0-19/mythplugins/mythweb/themes/wap/status/status.php $
- * @date        $Date: 2006-01-25 21:43:22 -0500 (Wed, 25 Jan 2006) $
+ * @url         $URL: http://svn.mythtv.org/svn/branches/release-0-19-fixes/mythplugins/mythweb/themes/wap/status/status.php $
+ * @date        $Date: 2006-01-25 18:43:22 -0800 (Wed, 25 Jan 2006) $
  * @version     $Revision: 8726 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/wap/tv/upcoming.php mythplugins-0.19-new/mythweb/themes/wap/tv/upcoming.php
--- mythplugins-0.19-old/mythweb/themes/wap/tv/upcoming.php	2006-01-25 18:43:22.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/wap/tv/upcoming.php	2006-04-21 17:55:56.000000000 -0700
@@ -4,7 +4,7 @@
  * It must define one method.   documentation will be added someday.
  *
  * @url         $URL$
- * @date        $Date: 2006-01-25 21:43:22 -0500 (Wed, 25 Jan 2006) $
+ * @date        $Date: 2006-01-25 18:43:22 -0800 (Wed, 25 Jan 2006) $
  * @version     $Revision: 8726 $
  * @author      $Author: xris $
  * @license     GPL
diff -Naur mythplugins-0.19-old/mythweb/themes/wml/header.php mythplugins-0.19-new/mythweb/themes/wml/header.php
--- mythplugins-0.19-old/mythweb/themes/wml/header.php	2006-01-18 21:29:51.000000000 -0800
+++ mythplugins-0.19-new/mythweb/themes/wml/header.php	2006-04-21 17:55:56.000000000 -0700
@@ -26,4 +26,4 @@
 <p><a href="<?php echo root ?>tv/upcoming"><?php echo t('Upcoming Recordings') ?></a></p>
 <p><a href="<?php echo root ?>tv/recorded"><?php echo t('Recorded Programs') ?></a></p>
 <p><a href="<?php echo root ?>tv/search"><?php echo t('Search') ?></a></p>
-<p><a href="<?php echo root ?>status?xml"><?php echo t('Backend Status') ?></a></p>
+<p><a href="<?php echo root ?>status/xml"><?php echo t('Backend Status') ?></a></p>

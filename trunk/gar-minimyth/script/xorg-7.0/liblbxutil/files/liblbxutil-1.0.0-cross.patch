diff -Naur liblbxutil-1.0.0-old/configure.ac liblbxutil-1.0.0-new/configure.ac
--- liblbxutil-1.0.0-old/configure.ac	2005-12-14 16:24:36.000000000 -0800
+++ liblbxutil-1.0.0-new/configure.ac	2006-11-21 05:25:34.000000000 -0800
@@ -35,6 +35,9 @@
 dnl synchronized.
 dnl
 AC_INIT(lbxutil, 1.0.0, [https://bugs.freedesktop.org/enter_bug.cgi?product=xorg], liblbxutil)
+AC_CANONICAL_BUILD
+AC_CANONICAL_HOST
+
 AM_INIT_AUTOMAKE([dist-bzip2])
 AM_MAINTAINER_MODE
 
@@ -44,6 +47,42 @@
 AC_PROG_CC
 AC_PROG_LIBTOOL
 
+AC_MSG_CHECKING([for CC_FOR_BUILD])
+if test x$host != x$build ; then
+    CC_FOR_BUILD=${CC_FOR_BUILD-gcc}
+else
+    CC_FOR_BUILD=${CC}
+fi
+AC_MSG_RESULT([$CC_FOR_BUILD])
+AC_SUBST(CC_FOR_BUILD)
+
+AC_MSG_CHECKING([for CPPFLAGS_FOR_BUILD])
+if test x$host != x$build ; then
+    CPPFLAGS_FOR_BUILD=${CPPFLAGS_FOR_BUILD}
+else
+    CPPFLAGS_FOR_BUILD=${CPPFLAGS}
+fi
+AC_MSG_RESULT([$CPPFLAGS_FOR_BUILD])
+AC_SUBST(CPPFLAGS_FOR_BUILD)
+
+AC_MSG_CHECKING([for CFLAGS_FOR_BUILD])
+if test x$host != x$build ; then
+    CFLAGS_FOR_BUILD=${CFLAGS_FOR_BUILD}
+else
+    CFLAGS_FOR_BUILD=${CFLAGS}
+fi
+AC_MSG_RESULT([$CFLAGS_FOR_BUILD])
+AC_SUBST(CFLAGS_FOR_BUILD)
+
+AC_MSG_CHECKING([for LDFLAGS_FOR_BUILD])
+if test x$host != x$build ; then
+    LDFLAGS_FOR_BUILD=${LDFLAGS_FOR_BUILD}
+else
+    LDFLAGS_FOR_BUILD=${LDFLAGS}
+fi
+AC_MSG_RESULT([$LDFLAGS_FOR_BUILD])
+AC_SUBST(LDFLAGS_FOR_BUILD)
+
 # Check for X
 PKG_CHECK_MODULES(LBXUTIL, xextproto xproto)
 
diff -Naur liblbxutil-1.0.0-old/src/Makefile.am liblbxutil-1.0.0-new/src/Makefile.am
--- liblbxutil-1.0.0-old/src/Makefile.am	2005-10-15 19:07:10.000000000 -0700
+++ liblbxutil-1.0.0-new/src/Makefile.am	2006-11-21 05:27:05.000000000 -0800
@@ -28,6 +28,11 @@
 
 $(srcdir)/image/dfaxg42d.c: g3states.h
 
+mkg3states: $(mkg3states_SOURCES)
+	$(CC_FOR_BUILD) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
+	$(AM_CPPFLAGS) $(CPPFLAGS_FOR_BUILD) $(AM_CFLAGS) $(CFLAGS_FOR_BUILD) \
+	$(AM_LDFLAGS) $(LDFLAGS_FOR_BUILD) -o $@ $<
+
 g3states.h: mkg3states
 	-rm -f g3states.h
 	./mkg3states -c > g3states.h_ && mv g3states.h_ g3states.h

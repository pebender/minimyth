diff -Naur busybox-1.18.3-old/scripts/trylink busybox-1.18.3-new/scripts/trylink
--- busybox-1.18.3-old/scripts/trylink	2011-02-04 05:12:02.000000000 -0800
+++ busybox-1.18.3-new/scripts/trylink	2011-02-08 22:03:33.000000000 -0800
@@ -49,7 +49,7 @@
     local tempname="/tmp/temp.$$.$RANDOM"
     # Can use "-o /dev/null", but older gcc tend to *unlink it* on failure! :(
     # "-xc": C language. "/dev/null" is an empty source file.
-    if $CC $1 -shared -xc /dev/null -o "$tempname".o >/dev/null 2>&1; then
+    if $CC $CFLAGS $LDFLAGS $1 -shared -xc /dev/null -o "$tempname".o >/dev/null 2>&1; then
 	echo "$1";
     else
 	echo "$2";

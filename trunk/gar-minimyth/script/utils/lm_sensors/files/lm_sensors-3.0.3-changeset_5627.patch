diff -Naur lm_sensors-3.0.3-old/CHANGES lm_sensors-3.0.3-new/CHANGES
--- lm_sensors-3.0.3-old/CHANGES	2009-01-29 19:53:53.000000000 -0800
+++ lm_sensors-3.0.3-new/CHANGES	2009-01-29 19:54:41.000000000 -0800
@@ -15,6 +15,7 @@
              Use better step values for MINSTOP test
              Print the revision and date at start-up
              Detect and report obviously incorrect fan speeds
+           Fix exit code in error case
              Determine MINSTOP automatically
              Skip MINSTOP and MINSTART tests if fan can't stop
              Change default for MINTEMP from 0 to 20 degrees C
diff -Naur lm_sensors-3.0.3-old/CHANGES.orig lm_sensors-3.0.3-new/CHANGES.orig
--- lm_sensors-3.0.3-old/CHANGES.orig	1969-12-31 16:00:00.000000000 -0800
+++ lm_sensors-3.0.3-new/CHANGES.orig	2009-01-29 19:54:08.000000000 -0800
@@ -0,0 +1,147 @@
+lm-sensors CHANGES file
+-----------------------
+
+3.0.3 (2008-09-28)
+  libsensors: Avoid namespace pollution
+  sensors-detect: Fix detection of ADT7463 and LM96000
+              Fix error propagation during expression evaluation
+  fancontrol: Don't use named pipes when we don't need them (#2319)
+  sensord: Accept negative temperatures in RRD database
+           Don't bail out on transient errors (#2330)
+                  Fix detection of Intel 5000 series FB-DIMM AMB
+  pwmconfig: Tell the user about gnuplot if it isn't installed
+             Fix MINSTOP and MINSTART test functions
+             Test MINSTOP before MINSTART
+             Use better step values for MINSTOP test
+             Print the revision and date at start-up
+             Detect and report obviously incorrect fan speeds
+             Determine MINSTOP automatically
+             Skip MINSTOP and MINSTART tests if fan can't stop
+             Change default for MINTEMP from 0 to 20 degrees C
+             Add support for attributes in the hwmon class device (#2260)
+             Update manual page
+  sensors-detect: Add Intel SCH (bus) support
+                  Add SMSC EMC6D103 support
+                  Improve MAX6657, MAX6658, MAX6659 detection
+                  Cache the byte data reads (#2326)
+                  Add Maxim MAX6654/MAX6690 support
+                  Add National Semiconductor LM95231 support
+                  Add Analog Devices ADT7481 support
+                  Refactor alias detection functions
+                  Fix Andigilog aSC7621 support
+                  Add Texas Instruments THMC51 support
+                  Fix Analog Devices ADT7461 support
+                  Add VIA C7 support
+                  Fix Winbond W83L786NR/NG/R/G support (#2336)
+                  Add Maxim MAX6646/MAX6647/MAX6649 support
+                  Add VIA VT1212 support
+                  Add SMSC EMC2700LPC support
+                  Add ITE IT8720 support
+                  Add Texas Instruments TMP411 support
+                  Prevent misdetection of W83627DHG on I2C as LM78
+                  W83627DHG has no subclients
+                  Add Maxim MAX1618 support
+
+3.0.2 (2008-05-18)
+  documentation: Delete the FAQ, now maintained on the wiki
+  libsensors: Use __func__ instead of __FUNCTION__
+              Parse the configuration file in C locale
+              Late compute statements override early ones
+              Support virtual hwmon devices (#2309)
+              Support power and energy sensors
+              Support DOS-style configuration files again (#2284)
+  pwmconfig: Don't create the configuration file before it's needed
+             Don't preserve configuration file customizations
+             Fix permissions of the configuration file
+             Don't start if fancontrol is running (#2299)
+  fancontrol: Don't start if already running (#2299)
+              Delete fancontrol.pid at exit time (#2299)
+  sensord: Fix support of multiple chip names on the command line (#2321)
+  sensors: Print energy and power sensors with automatically scaled units
+  sensors-detect: Add SMSC SCH5027D detection
+                  Do not access I/O ports on PPC
+                  Move south bridge sensor detection to the right section
+                  Run chip_special_cases() earlier
+                  New device ID for the SMSC SCH5317
+                  Add SMSC SCH5127 detection
+                  Add National Semiconductor LM64 detection
+                  Add Asus F8000 detection
+                  Add Intel ICH10 (bus) detection
+                  Don't probe I2C addresses 0x40-0x47
+                  Fix the parsing of I2C addresses not to scan
+                  Detect and skip 1-register-only I2C devices
+                  Avoid SMBus word transactions where possible
+                  Add Dallas DS1631 detection
+
+3.0.1 (2008-01-28)
+  documentation: Update the application writing guidelines
+  libsensors: No longer depend on libsysfs (#2262)
+              Don't guess the bus type from the device ID format (#2240)
+              Add support for attributes in the hwmon class device (#2260)
+  Makefile: No warnings about ld configuration for staged installations
+            Document the variable overriding mechanism (#2296)
+  pwmconfig: Really hide errors on sysfs writes
+             Deal gracefully with read-only pwm_enable files
+             Warn about outputs found in automatic mode
+             Repeat available configuration options before prompt (#2289)
+             Fix duplicate warning message when config file is broken
+  fancontrol: Detect improperly formatted FCTEMPS value (#2293)
+  sensord: Fix rrd support (#2276)
+           Use the same colors for daily and weekly charts
+           Drop workaround needed by old versions of rrdtool
+  sensors: Fix error path on library initialization error
+  sensors.conf.eg: Fix voltage value references (g520sm, lm80, pc87366)
+  sensors-detect: Drop PCA9540 detection
+                  Improve sysconfig and modprobe.d integration
+                  Add SMSC SCH5514D-NS detection (no sensors)
+                  Lower the confidence of MAX6650/MAX6651
+                  Add Fintek F71858DG detection
+                  Add Fintek F81216D detection (no sensors)
+  unhide_ICH_SMBus: Add support for the 82801AA (ICH)
+
+3.0.0 (2007-11-24)
+  Makefile: Fix MODULE_DIR usage in etc
+            Fix build on PPC
+  pwmconfig: Better diagnostics in pwmdisable
+             Give the fans some time to spin up
+  sensors-detect: Add Texas Instruments TMP401 detection
+                  Mention the f75375s driver
+                  Add SMSC LPC47B367-NC detection (no sensors)
+                  Reduce w83781d/lm78 I2C address probing range
+                  Add Intel Celeron 4xx and Penryn (CPU on 45nm) detection 
+
+3.0.0-rc3 (2007-10-28)
+  libsensors: Add a default configuration file
+              Fix memory leaks on initialization error
+              Make the configuration file optional
+              Change the default configuration file to /etc/sensors3.conf
+  sensord: Reload config on SIGHUP rather than automatically
+           No default configuration file name
+  sensors: Fix file handle leak on library initialization error
+           Handle the case where voltage measurements aren't available
+           No default configuration file name
+           Install as sensors again
+  sensors.conf.eg: Install as sensors3.conf
+  sensors-detect: Fix SMSC LPC47B357/M967 detection
+                  Select the right driver for FSC chips
+  sensors-detect-stat.pl: Handle alternative chip lists
+
+3.0.0-rc2 (2007-10-10)
+  useful_addresses.html: Moved to the wiki
+  Makefile: Add sensors-conf-convert to make install
+  libsensors: Notify the caller when writing a value fails
+              Differentiate between different read error types
+              Report I/O errors as such
+  sensord: Log the error code on failure
+           Drop the configuration file search path mechanism (#2259)
+           Manual page update
+  sensors: Fix spurious critical temperature alarm
+           Print error messages to stderr
+           Make error messages more helpful and consistent
+           Better handling of the fault flags
+  sensors-conf-convert: Add a short help text
+  sensors-detect: Fix SMSC SCH311x detection
+                  Add AMD K10 CPU sensor detection 
+
+3.0.0-rc1 (2007-09-25)
+  Initial release
diff -Naur lm_sensors-3.0.3-old/prog/sensors/main.c lm_sensors-3.0.3-new/prog/sensors/main.c
--- lm_sensors-3.0.3-old/prog/sensors/main.c	2008-03-26 06:37:12.000000000 -0700
+++ lm_sensors-3.0.3-new/prog/sensors/main.c	2009-01-29 19:54:41.000000000 -0800
@@ -243,7 +243,7 @@
 
 int main(int argc, char *argv[])
 {
-	int c, res, i, error, do_bus_list;
+	int c, res, i, error = 0, do_bus_list;
 	const char *config_file_name = NULL;
 
 	struct option long_opts[] =  {
@@ -344,5 +344,5 @@
 
 exit:
 	sensors_cleanup();
-	exit(res);
+	exit(error);
 }

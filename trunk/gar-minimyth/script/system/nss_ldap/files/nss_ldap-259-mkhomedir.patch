diff -Naur nss_ldap-259-old/ldap-pwd.c nss_ldap-259-new/ldap-pwd.c
--- nss_ldap-259-old/ldap-pwd.c	2007-10-29 19:00:25.000000000 -0700
+++ nss_ldap-259-new/ldap-pwd.c	2007-10-29 19:01:32.000000000 -0700
@@ -35,6 +35,7 @@
 
 #include <stdlib.h>
 #include <unistd.h>
+#include <sys/stat.h>
 #include <sys/types.h>
 #include <sys/param.h>
 #include <string.h>
@@ -156,6 +157,11 @@
     (void) _nss_ldap_assign_emptystring (&pw->pw_dir, &buffer, &buflen);
   else 
     {
+      /* if home directory does not exist, try to create it. */
+      if (access (pw->pw_dir, F_OK))
+        if (!mkdir(pw->pw_dir, 0750))
+          if (chown(pw->pw_dir, pw->pw_uid, pw->pw_gid))
+            rmdir(pw->pw_dir);
       /* if home directory does not exist, then override it. */
       if (access (pw->pw_dir, F_OK))
         {

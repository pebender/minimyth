#!/bin/sh
################################################################################
# gtk
################################################################################
. /etc/rc.d.sh/functions

start() {

    mm_message_output info "generating GTK related configuration files ..."

    if /usr/bin/test -e '/usr/bin/dbus-uuidgen' ; then
        if /usr/bin/test ! -e '/var/lib/dbus' ; then
            /bin/mkdir '/var/lib/dbus'
        fi
        /bin/chmod 0755 '/var/lib/dbus'
        /usr/bin/dbus-uuidgen > '/var/lib/dbus/machine-id'
        /bin/chmod 0644 '/var/lib/dbus/machine-id'
    fi

    if /usr/bin/test -e '/usr/bin/gdk-pixbuf-query-loaders' ; then
        if /usr/bin/test ! -e '/etc/gtk-2.0' ; then
            /bin/mkdir '/etc/gtk-2.0'
        fi
        /bin/chmod 0755 '/etc/gtk-2.0'
        /usr/bin/gdk-pixbuf-query-loaders > '/etc/gtk-2.0/gdk-pixbuf.loaders'
        /bin/chmod 0644 '/etc/gtk-2.0/gdk-pixbuf.loaders'
    fi

    if /usr/bin/test -e '/usr/bin/pango-querymodules' ; then
        if /usr/bin/test ! -e '/etc/pango' ; then
            /bin/mkdir '/etc/pango'
        fi
        /bin/chmod 0755 '/etc/pango'
        /usr/bin/pango-querymodules > '/etc/pango/pango.modules'
        /bin/chmod 0644 '/etc/pango/pango.modules'
    fi

    return 0
}

stop() {

    return 0
}

case $1 in
    start) start ;;
    stop)  stop  ;;
esac

exit 0

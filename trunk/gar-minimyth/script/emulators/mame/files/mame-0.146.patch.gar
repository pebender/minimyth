diff -Naur mame-0.146-old/makefile mame-0.146-new/makefile
--- mame-0.146-old/makefile	2012-05-15 08:56:18.000000000 -0700
+++ mame-0.146-new/makefile	2012-05-21 19:40:40.000000000 -0700
@@ -207,10 +207,10 @@
 # BIGENDIAN = 1
 
 # uncomment next line to build expat as part of MAME build
-BUILD_EXPAT = 1
+# BUILD_EXPAT = 1
 
 # uncomment next line to build zlib as part of MAME build
-BUILD_ZLIB = 1
+# BUILD_ZLIB = 1
 
 # uncomment next line to build libflac as part of MAME build
 BUILD_FLAC = 1
@@ -304,12 +304,12 @@
 endif
 
 # compiler, linker and utilities
-AR = @ar
-CC = @gcc
-LD = @g++
-MD = -mkdir$(EXE)
-RM = @rm -f
-OBJDUMP = @objdump
+AR ?= ar
+CC ?= gcc
+LD ?= g++
+MD = mkdir$(EXE) -p
+RM = rm -f
+OBJDUMP ?= objdump
 
 
 
@@ -445,7 +445,7 @@
 
 # CFLAGS is defined based on C or C++ targets
 # (remember, expansion only happens when used, so doing it here is ok)
-CFLAGS = $(CCOMFLAGS) $(CPPONLYFLAGS)
+CFLAGS = $(CCOMFLAGS) $(CPPONLYFLAGS) @GAR_CXXFLAGS@
 
 # we compile C-only to C89 standard with GNU extensions
 # we compile C++ code to C++98 standard with GNU extensions
@@ -547,11 +547,11 @@
 
 # LDFLAGS are used generally; LDFLAGSEMULATOR are additional
 # flags only used when linking the core emulator
-LDFLAGS =
+LDFLAGS = @GAR_CXXFLAGS@ @GAR_LDFLAGS@
 ifneq ($(TARGETOS),macosx)
 ifneq ($(TARGETOS),os2)
 ifneq ($(TARGETOS),solaris)
-LDFLAGS = -Wl,--warn-common
+LDFLAGS = -Wl,--warn-common @GAR_CXXFLAGS@ @GAR_LDFLAGS@
 endif
 endif
 endif
diff -Naur mame-0.146-old/src/osd/sdl/sdl.mak mame-0.146-new/src/osd/sdl/sdl.mak
--- mame-0.146-old/src/osd/sdl/sdl.mak	2012-05-08 03:26:34.000000000 -0700
+++ mame-0.146-new/src/osd/sdl/sdl.mak	2012-05-21 19:40:40.000000000 -0700
@@ -520,10 +520,6 @@
 LIBS += `pkg-config --libs gtk+-2.0` `pkg-config --libs gconf-2.0`
 #CCOMFLAGS += -DGTK_DISABLE_DEPRECATED
 
-# some systems still put important things in a different prefix
-LIBS += -L/usr/X11/lib -L/usr/X11R6/lib -L/usr/openwin/lib
-# make sure we can find X headers
-INCPATH += -I/usr/X11/include -I/usr/X11R6/include -I/usr/openwin/include
 endif # NO_X11
 
 #-------------------------------------------------

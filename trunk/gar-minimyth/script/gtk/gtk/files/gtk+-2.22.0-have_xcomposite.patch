diff -Naur gtk+-2.22.0-old/gdk/x11/gdkdnd-x11.c gtk+-2.22.0-new/gdk/x11/gdkdnd-x11.c
--- gtk+-2.22.0-old/gdk/x11/gdkdnd-x11.c	2010-09-22 20:00:36.000000000 -0700
+++ gtk+-2.22.0-new/gdk/x11/gdkdnd-x11.c	2010-09-27 20:20:23.000000000 -0700
@@ -30,7 +30,9 @@
 #include <X11/Xutil.h>
 #include <X11/Xatom.h>
 #include <X11/extensions/shape.h>
+#ifdef HAVE_XCOMPOSITE
 #include <X11/extensions/Xcomposite.h>
+#endif
 
 #include <string.h>
 

diff -Naur gtk+-2.24.0-old/gdk/x11/gdkdnd-x11.c gtk+-2.24.0-new/gdk/x11/gdkdnd-x11.c
--- gtk+-2.24.0-old/gdk/x11/gdkdnd-x11.c	2011-01-06 20:41:26.000000000 -0800
+++ gtk+-2.24.0-new/gdk/x11/gdkdnd-x11.c	2011-02-08 21:52:55.000000000 -0800
@@ -30,7 +30,9 @@
 #include <X11/Xutil.h>
 #include <X11/Xatom.h>
 #include <X11/extensions/shape.h>
+#ifdef HAVE_XCOMPOSITE
 #include <X11/extensions/Xcomposite.h>
+#endif
 
 #include <string.h>
 
